(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(35),o=n.n(i),c=n(65),u=n(5),s=n(31),d=n(44),l=n(45),p=n(4),f=n(2),b=n.n(f),h=n(6),x=n(12),g=n(49),w=n.n(g),m=w.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"b4801660-f864-43f9-8acc-579713cc64df"}}),v=w.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/auth/me",withCredentials:!0,headers:{"API-KEY":"b4801660-f864-43f9-8acc-579713cc64df"}}),k=function(){return v.get("").then(function(t){var e;return b.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(200===t.status){n.next=9;break}e=t;case 2:if(200===e.status){n.next=8;break}return n.next=5,b.a.awrap(v.get(""));case 5:e=n.sent,n.next=2;break;case 8:return n.abrupt("return",e.data);case 9:return n.abrupt("return",t.data);case 10:case"end":return n.stop()}})})},O=function(){var t={email:"npikolist@gmail.com",password:"512347",rememberMe:!1};return v.post("",t).then(function(e){var n;return b.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(200===e.status){r.next=9;break}n=e;case 2:if(200===n.status){r.next=8;break}return r.next=5,b.a.awrap(v.post("",t));case 5:n=r.sent,r.next=2;break;case 8:return r.abrupt("return",n.data);case 9:return r.abrupt("return",e.data);case 10:case"end":return r.stop()}})})},y=function(){return m.get("").then(function(t){var e;return b.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(200===t.status){n.next=9;break}e=t;case 2:if(200===e.status){n.next=8;break}return n.next=5,b.a.awrap(m.get(""));case 5:e=n.sent,n.next=2;break;case 8:return n.abrupt("return",e.data);case 9:return n.abrupt("return",t.data);case 10:case"end":return n.stop()}})})},I=function(t){return m.post("",{title:t}).then(function(e){var n;return b.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(200===e.status){r.next=9;break}n=e;case 2:if(200===n.status){r.next=8;break}return r.next=5,b.a.awrap(m.post("",{title:t}));case 5:n=r.sent,r.next=2;break;case 8:return r.abrupt("return",n.data);case 9:return r.abrupt("return",e.data);case 10:case"end":return r.stop()}})})},j=function(t){return m.get("/".concat(t,"/tasks")).then(function(e){var n;return b.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(200===e.status){r.next=9;break}n=e;case 2:if(200===n.status){r.next=8;break}return r.next=5,b.a.awrap(m.get("/".concat(t,"/tasks")));case 5:n=r.sent,r.next=2;break;case 8:return r.abrupt("return",n.data);case 9:return r.abrupt("return",e.data);case 10:case"end":return r.stop()}})})},L=function(t,e){return m.post("/".concat(e,"/tasks"),{title:t}).then(function(n){var r;return b.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(200===n.status){a.next=9;break}r=n;case 2:if(200===r.status){a.next=8;break}return a.next=5,b.a.awrap(m.post("/".concat(e,"/tasks"),{title:t}));case 5:r=a.sent,a.next=2;break;case 8:return a.abrupt("return",r.data);case 9:return a.abrupt("return",n.data);case 10:case"end":return a.stop()}})})},E=function(t,e,n){return m.put("/".concat(t,"/tasks/").concat(e),n).then(function(r){var a;return b.a.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(200===r.status){i.next=9;break}a=r;case 2:if(200===a.status){i.next=8;break}return i.next=5,b.a.awrap(m.put("/".concat(t,"/tasks/").concat(e),n));case 5:a=i.sent,i.next=2;break;case 8:return i.abrupt("return",a.data);case 9:return i.abrupt("return",r.data);case 10:case"end":return i.stop()}})})},T=function(t){return m.delete("/".concat(t)).then(function(e){var n;return b.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(200===e.status){r.next=9;break}n=e;case 2:if(200===n.status){r.next=8;break}return r.next=5,b.a.awrap(m.delete("/".concat(t)));case 5:n=r.sent,r.next=2;break;case 8:return r.abrupt("return",n.data);case 9:return r.abrupt("return",e.data);case 10:case"end":return r.stop()}})})},S=function(t,e){return m.delete("/".concat(t,"/tasks/").concat(e)).then(function(n){var r;return b.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(200===n.status){a.next=9;break}r=n;case 2:if(200===r.status){a.next=8;break}return a.next=5,b.a.awrap(m.delete("/".concat(t,"/tasks/").concat(e)));case 5:r=a.sent,a.next=2;break;case 8:return a.abrupt("return",r.data);case 9:return a.abrupt("return",n.data);case 10:case"end":return a.stop()}})})},_=function(t,e){return m.put("/".concat(t),{title:e}).then(function(n){var r;return b.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(200===n.status){a.next=9;break}r=n;case 2:if(200===r.status){a.next=8;break}return a.next=5,b.a.awrap(m.put("/".concat(t),{title:e}));case 5:r=a.sent,a.next=2;break;case 8:return a.abrupt("return",r.data);case 9:return a.abrupt("return",n.data);case 10:case"end":return a.stop()}})})},C=function(t,e,n){return m.put("/".concat(t,"/tasks/").concat(e,"/reorder"),{putAfterItemId:n}).then(function(r){var a;return b.a.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(200===r.status){i.next=9;break}a=r;case 2:if(200===a.status){i.next=8;break}return i.next=5,b.a.awrap(m.put("/".concat(t,"/tasks/").concat(e,"/reorder"),{putAfterItemId:n}));case 5:a=i.sent,i.next=2;break;case 8:return i.abrupt("return",a.data);case 9:return i.abrupt("return",r.data);case 10:case"end":return i.stop()}})})},$=function(t,e){return m.put("/".concat(t,"/reorder"),{putAfterItemId:e}).then(function(n){var r;return b.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(200===n.status){a.next=9;break}r=n;case 2:if(200===r.status){a.next=8;break}return a.next=5,b.a.awrap(m.put("/".concat(t,"/reorder"),{putAfterItemId:e}));case 5:r=a.sent,a.next=2;break;case 8:return a.abrupt("return",r.data);case 9:return a.abrupt("return",n.data);case 10:case"end":return a.stop()}})})},R=n(76),A=function(t,e,n){var r=t[e],a=t.length,i=e-n;return i>0?[].concat(Object(x.a)(t.slice(0,n)),[r],Object(x.a)(t.slice(n,e)),Object(x.a)(t.slice(e+1,a))):i<0?[].concat(Object(x.a)(t.slice(0,e)),Object(x.a)(t.slice(e+1,n+1)),[r],Object(x.a)(t.slice(n+1,a))):t},z=[{background:"#B5838D",concaveBackground:"linear-gradient(145deg, #a3767f, #c28c97)",shadows:"20px 20px 40px #9a6f78, -20px -20px 40px #d097a2",innerShadows:"inset 20px 20px 40px #9a6f78, inset -20px -20px 40px #d097a2",littleShadows:"5px 5px 10px #9a6f78, -5px -5px 10px #d097a2;",innerLittleShadows:"inset 5px 5px 10px #9a6f78, inset -5px -5px 10px #d097a2",progressBarColor:"#d097a2",color:"white"},{background:"#E5989B",concaveBackground:"linear-gradient(145deg, #ce898c, #f5a3a6)",shadows:"20px 20px 40px #c38184, -20px -20px 40px #ffafb2",innerShadows:"inset 20px 20px 40px #c38184, inset -20px -20px 40px #ffafb2",littleShadows:"5px 5px 10px #c38184, -5px -5px 10px #ffafb2;",innerLittleShadows:"inset 5px 5px 10px #c38184, inset -5px -5px 10px #ffafb2",progressBarColor:"#ffafb2",color:"white"},{background:"#FFB4A2",concaveBackground:"linear-gradient(145deg, #e6a292, #ffc1ad)",shadows:"20px 20px 40px #d49586, -20px -20px 40px #ffd3be",innerShadows:"inset 20px 20px 40px #d49586, inset -20px -20px 40px #ffd3be",littleShadows:"5px 5px 10px #d49586, -5px -5px 10px #ffd3be;",innerLittleShadows:"inset 5px 5px 10px #d49586, inset -5px -5px 10px #ffd3be",progressBarColor:"#ffd3be",color:"white"},{background:"#FFCDB2",concaveBackground:"linear-gradient(145deg, #e6b9a0, #ffdbbe)",shadows:"20px 20px 40px #d4aa94, -20px -20px 40px #fff0d0",innerShadows:"inset 20px 20px 40px #d4aa94, inset -20px -20px 40px #fff0d0",littleShadows:"5px 5px 10px #d4aa94, -5px -5px 10px #fff0d0;",innerLittleShadows:"inset 5px 5px 10px #d4aa94, inset -5px -5px 10px #fff0d0",progressBarColor:"#fff0d0",color:"white"}],N={background:"#6D6875",concaveBackground:"linear-gradient(145deg, #625e69, #756f7d)",shadows:"20px 20px 40px #5e5965, -20px -20px 40px #7c7785",innerShadows:"inset 20px 20px 40px #5e5965, inset -20px -20px 40px #7c7785",littleShadows:"5px 5px 10px #5d5863, -5px -5px 10px #7d7887",innerLittleShadows:"inset 5px 5px 10px #5d5863, inset -5px -5px 10px #7d7887",progressBarColor:"#7c7785",color:"white",default:!0},B="#1a0b3b",D="20px 20px 40px #0a0418, -20px -20px 40px #2a125e",H="5px 5px 10px #0a0418, -5px -5px 10px #2a125e",M="white",P={todoLists:[],deepCopy:[],editable:!1,listsOrder:[],tasksOrder:[],newListsId:[],newTasksId:[],errorsNumber:0,focusedStatus:!1,currentPaletteIndex:N,initialLoadingState:!0,pendingState:!1,swapState:!1,fetchingState:!1,closeLookState:!1,height:0,allTasks:0,completedTasks:0},W=function(t){return{type:"functionalReducer/ADD_TODO_LIST",newTodoList:t}},X=function(t,e){return{type:"functionalReducer/ADD_TASK",newTask:t,todoListId:e}},Y=function(t){return{type:"functionalReducer/CHANGE_TASK",task:t}},K=function(t){return{type:"functionalReducer/DELETE_TODO_LIST",todoListId:t}},Z=function(t,e){return{type:"functionalReducer/DELETE_TASK",taskId:e,todoListId:t}},F=function(t,e){return{type:"functionalReducer/CHANGE_TODO_LIST_TITLE",todoListId:t,todoListTitle:e}},G=function(){return{type:"functionalReducer/ENABLE_EDIT_MODE"}},q=function(){return{type:"functionalReducer/DISABLE_EDIT_MODE"}},U=function(){return{type:"functionalReducer/SET_ERROR"}},J=function(t){return{type:"functionalReducer/SET_FOCUSED_STATUS",status:t}},Q=function(t,e){return{type:"functionalReducer/SWAP_TASKS",todoListId:t,newTasksOrder:e}},V=function(t){return{type:"functionalReducer/SWAP_TODO_LISTS",newListsOrder:t}},tt=function(t){return{type:"functionalReducer/SET_NEW_ID",newTodoLists:t}},et=function(t){return{type:"functionalReducer/SET_CURRENT_PALETTE_INDEX",palette:t}},nt=function(){return{type:"functionalReducer/REJECT_ALL_CHANGES"}},rt=function(){return{type:"functionalReducer/COMPLETE_INITIAL_LOADING_STATE"}},at=function(t){return{type:"functionalReducer/SET_PENDING_STATE",pendingState:t}},it=function(t){return{type:"functionalReducer/SET_HEIGHT",height:t}},ot=function(t){return{type:"functionalReducer/SET_ALL_TASKS",tasks:t}},ct=function(t){return{type:"functionalReducer/SET_COMPLETED_TASK",restore:t}},ut=function(t){return{type:"functionalReducer/SET_SWAP_STATE",state:t}},st=function(t){return{type:"functionalReducer/SET_FETCHING_STATE",state:t}},dt=function(t){return{type:"functionalReducer/SET_CLOSE_LOOK_STATE",state:t}},lt=function(t){return function(e){var n,r,a;return b.a.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t||e(st(!0)),i.next=3,b.a.awrap(y());case 3:if(n=i.sent,r=n,0===n.length){i.next=11;break}return e(ot(n.length)),e(ct(!0)),a=n.map(function(t){return b.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(j(t.id).then(function(n){var a=r.findIndex(function(e){return t.id===e.id});r[a]=Object(p.a)({},t,{tasks:n.items}),e(ct(!1))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}})}),i.next=11,b.a.awrap(Promise.all(a));case 11:e(tt(r)),t&&setTimeout(function(){return e(rt())},400);case 13:case"end":return i.stop()}})}},pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"functionalReducer/SET_TODO_LISTS":return Object(p.a)({},t,{todoLists:e.todoLists});case"functionalReducer/SET_TASKS":return Object(p.a)({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?Object(p.a)({},t,{tasks:e.tasks}):t})});case"functionalReducer/ADD_TODO_LIST":return Object(p.a)({},t,{todoLists:[e.newTodoList].concat(Object(x.a)(t.todoLists))});case"functionalReducer/ADD_TASK":return Object(p.a)({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?Object(p.a)({},t,{tasks:[e.newTask].concat(Object(x.a)(t.tasks))}):t})});case"functionalReducer/CHANGE_TASK":return Object(p.a)({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.task.todoListId?Object(p.a)({},t,{tasks:t.tasks.map(function(t){return t.id===e.task.id?Object(p.a)({},e.task):t})}):t})});case"functionalReducer/DELETE_TODO_LIST":return Object(p.a)({},t,{todoLists:t.todoLists.filter(function(t){return t.id!==e.todoListId})});case"functionalReducer/DELETE_TASK":return Object(p.a)({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?Object(p.a)({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})}):t})});case"functionalReducer/CHANGE_TODO_LIST_TITLE":return Object(p.a)({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?Object(p.a)({},t,{title:e.todoListTitle}):t})});case"functionalReducer/SWAP_TODO_LISTS":return Object(p.a)({},t,{listsOrder:e.newListsOrder});case"functionalReducer/SWAP_TASKS":var n=t.tasksOrder.findIndex(function(t){return t.todoListId===e.todoListId}),r=-1!==n?t.tasksOrder.map(function(t,r){return r===n?{todoListId:e.todoListId,newTasksOrder:e.newTasksOrder}:t}):[].concat(Object(x.a)(t.tasksOrder),[{todoListId:e.todoListId,newTasksOrder:e.newTasksOrder}]);return Object(p.a)({},t,{tasksOrder:r});case"functionalReducer/ENABLE_EDIT_MODE":return Object(p.a)({},t,{editable:!0,listsOrder:[],tasksOrder:[],errorsNumber:0,deepCopy:Object(R.a)(t.todoLists)});case"functionalReducer/DISABLE_EDIT_MODE":return Object(p.a)({},t,{editable:!1});case"functionalReducer/SET_ERROR":return Object(p.a)({},t,{errorsNumber:t.errorsNumber+1});case"functionalReducer/SET_FOCUSED_STATUS":return Object(p.a)({},t,{focusedStatus:e.status});case"functionalReducer/SET_NEW_ID":return Object(p.a)({},t,{todoLists:e.newTodoLists});case"functionalReducer/SET_CURRENT_PALETTE_INDEX":return Object(p.a)({},t,{currentPaletteIndex:e.palette});case"functionalReducer/REJECT_ALL_CHANGES":return Object(p.a)({},t,{todoLists:t.deepCopy,editable:!1,listsOrder:[],tasksOrder:[]});case"functionalReducer/COMPLETE_INITIAL_LOADING_STATE":return Object(p.a)({},t,{initialLoadingState:!1});case"functionalReducer/SET_PENDING_STATE":return Object(p.a)({},t,{pendingState:e.pendingState});case"functionalReducer/SET_HEIGHT":return Object(p.a)({},t,{height:e.height});case"functionalReducer/SET_ALL_TASKS":return Object(p.a)({},t,{allTasks:e.tasks});case"functionalReducer/SET_COMPLETED_TASK":return Object(p.a)({},t,{completedTasks:e.restore?0:t.completedTasks+1});case"functionalReducer/SET_SWAP_STATE":return Object(p.a)({},t,{swapState:e.state});default:return t}},ft=n(3),bt=n(9),ht=n(23),xt=n(25),gt=u.b.div.withConfig({displayName:"TaskButtons__TaskButtonWrapper",componentId:"sc-99vh99-0"})(["z-index:0;position:absolute;width:0rem;height:0rem;transform:translateX(-70%);transition:.25s cubic-bezier(0.25,0,0,1);overflow:hidden;"]),wt=u.b.div.withConfig({displayName:"TaskButtons__Button",componentId:"sc-99vh99-1"})(["display:grid;place-items:center;position:absolute;width:2rem;height:2rem;cursor:pointer;font-size:15px;border-radius:100%;background-color:rgba(255,255,255,0.8);border:1px solid #ca6a9a;transition:.25s cubic-bezier(0.25,0,0,1);&:hover{background-color:rgba(202,106,154,0.8);color:white;}&:first-child:nth-last-child(2),&:first-child:nth-last-child(2) ~ *{&:nth-child(1){left:0;top:0;}&:nth-child(2){left:0;bottom:0;}}"]),mt=a.a.memo(function(t){var e=t.deleteTask,n=t.editTask;return a.a.createElement(gt,null,a.a.createElement(wt,{onClick:n},a.a.createElement(xt.a,{icon:"edit"})),a.a.createElement(wt,{onClick:e},a.a.createElement(xt.a,{icon:"trash"})))}),vt=u.b.div.withConfig({displayName:"TaskCheckbox__CheckboxWrapper",componentId:"sc-1unr9n-0"})(["width:31px;height:31px;position:relative;padding-top:10px;padding-left:10px;opacity:",";--background:#fff;--border:#D1D6EE;--border-hover:#BBC1E1;--border-active:#1E2235;--tick:#fff;"],function(t){return t.$editable?0:1}),kt=u.b.input.withConfig({displayName:"TaskCheckbox__Checkbox",componentId:"sc-1unr9n-1"})(["z-index:9;width:21px;height:21px;display:block;-webkit-appearance:none;-moz-appearance:none;position:relative;outline:none;background:rgba(255,255,255,0.8);border:none;margin:0;padding:0;cursor:pointer;border-radius:4px;transition:box-shadow .3s;box-shadow:inset 0 0 0 var(--s,1px) var(--b,var(--border));&:hover{--s:2px;--b:var(--border-hover);}&:checked{--b:var(--border-active);--s:2px;transition-delay:.4s;& + svg{--a:16.1 86.12;--o:102.22;}}"]),Ot=u.b.svg.withConfig({displayName:"TaskCheckbox__Svg",componentId:"sc-1unr9n-2"})(["z-index:10;width:21px;height:21px;display:block;pointer-events:none;fill:none;stroke-width:2px;stroke-linecap:round;stroke-linejoin:round;stroke:var(--stroke,var(--border-active));position:absolute;top:10px;left:10px;transform:scale(var(--scale,1)) translateZ(0);stroke-dasharray:var(--a,86.12);stroke-dashoffset:var(--o,86.12);transition:stroke-dasharray .6s,stroke-dashoffset .6s;"]),yt=a.a.memo(function(t){var e=t.task,n=t.changeDoneStatus,r=t.editable;t.palette;return a.a.createElement(vt,{$editable:r},a.a.createElement(kt,{type:"checkbox",checked:2===e.status,disabled:r,onChange:function(t){return n(t)}}),a.a.createElement(Ot,null,a.a.createElement("path",{d:"M5,10.75 L8.5,14.25 L19.4,2.3 C18.8333333,1.43333333 18.0333333,1 17,1 L4,1 C2.35,1 1,2.35 1,4 L1,17 C1,18.65 2.35,20 4,20 L17,20 C18.65,20 20,18.65 20,17 L20,7.99769186"})))}),It=Object(u.b)(bt.animated.div).withConfig({displayName:"TodoListTask__TaskWrapper",componentId:"sc-1t7no7s-0"})(["position:relative;padding:10px 0;text-align:left;",""],function(t){return t.$editable&&"&:hover ".concat(gt,",  ").concat(gt,":focus-within {\n           width: 4rem;\n           height: 4rem;\n     }")}),jt=u.b.div.withConfig({displayName:"TodoListTask__TaskBackground",componentId:"sc-1t7no7s-1"})(["padding:15px 0;background:",";color:",";display:flex;position:relative;border-radius:10px;cursor:",";z-index:2;transform:scale(",');transition:transform .5s cubic-bezier(0.25,0,0,1);&:before{border-radius:10px;content:"";position:absolute;top:0;bottom:0;left:0;right:0;z-index:-1;box-shadow:',";border:3px solid transparent;transition:border .3s linear;};",""],function(t){return t.$palette.background},function(t){return t.$palette.color},function(t){return t.$editable?"grab":"inherit"},function(t){return t.$editorState?1.3:1},function(t){return t.$palette.littleShadows},function(t){return t.$editable&&"&:hover:before {\n         border: 3px solid ".concat(t.$palette.background,"\n    }")}),Lt=u.b.div.withConfig({displayName:"TodoListTask__TaskText",componentId:"sc-1t7no7s-2"})(["padding:10px;outline:none;display:inline-block;min-width:100px;overflow-wrap:break-word;-webkit-line-break:after-white-space;width:100%;"]),Et=a.a.memo(function(t){var e=t.task,n=t.todoListId,i=t.palette,o=Object(ft.c)(),c=Object(ft.d)(function(t){return t.todoList.editable},ft.b),u=Object(ft.d)(function(t){return t.todoList.focusedStatus},ft.b),s=Object(r.useState)(!1),d=Object(h.a)(s,2),l=d[0],f=d[1],b=function(){f(!0),o(J(!0))},x=Object(r.useRef)(null);Object(r.useEffect)(function(){l&&x.current.focus()},[l]);var g=function(){o(Z(n,e.id))};Object(r.useLayoutEffect)(function(){x.current.textContent=e.title,""===e.title&&b()},[e.title]);e.priority;return a.a.createElement(It,{$editable:c&&!u},a.a.createElement(mt,{editTask:b,deleteTask:g}),a.a.createElement(jt,{$editable:c,$palette:i,$editorState:l},a.a.createElement(yt,{task:e,changeDoneStatus:function(t){var n=Object(p.a)({},e,{status:t.currentTarget.checked?2:0});o(Y(n))},editable:c,palette:i}),a.a.createElement(Lt,{contentEditable:l,onKeyPress:function(t){return function(t){"Enter"===t.key&&(t.preventDefault(),x.current.blur())}(t)},ref:x,onBlur:function(){var t=x.current.textContent;console.log(!0);var n=Object(p.a)({},e,{title:t,editStatus:!1});o(Y(n)),f(!1),o(J(!1))}})))}),Tt=n(28),St=n.n(Tt),_t=u.b.div.withConfig({displayName:"TodoListTasks__TasksWrapper",componentId:"sc-1aqr7qq-0"})(["user-select:none;position:relative;height:","px;transition:height 0.3s cubic-bezier(0.25,0,0,1) 0.2s;"],function(t){return t.$height}),Ct=Object(u.b)(bt.animated.div).withConfig({displayName:"TodoListTasks__TaskWrapper",componentId:"sc-1aqr7qq-1"})(["position:absolute;width:100%;overflow:visible;pointer-events:auto;text-align:center;font-size:14.5px;"]),$t=a.a.memo(function(t){var e=t.tasks,n=t.todoListId,i=t.setHeight,o=t.palette,c=Object(ft.d)(function(t){return t.todoList.editable},ft.b),u=Object(ft.c)(),s=function(t,n,r,a){return function(i){if(n&&i===r&&void 0!==a){var o=a>m.current[1]?m.current[1]+.1*(a-m.current[1]):a<m.current[0]?m.current[0]+.1*(a-m.current[0]):a;return{scale:1.2,zIndex:2,y:l.current+o,opacity:1,immediate:function(t){return"zIndex"===t||"y"===t}}}return{scale:1,y:g.current[t.indexOf(e.length-i-1)]||0,zIndex:1,opacity:1,immediate:!1}}},d=Object(r.useRef)([]),l=Object(r.useRef)(0),f=Object(r.useRef)([]),b=Object(r.useRef)([]),g=Object(r.useRef)([]),w=Object(r.useRef)([]),m=Object(r.useRef)([]),v=Object(r.useRef)([]),k=Object(r.useRef)([]),O=Object(r.useState)(0),y=Object(h.a)(O,2),I=y[0],j=y[1],L=Object(bt.useSprings)(e.length,s(d.current),[e]),E=Object(h.a)(L,2),T=E[0],S=E[1],_=Object(r.useState)(0),C=Object(h.a)(_,2),$=C[0],R=C[1];Object(r.useEffect)(function(){k.current=e.map(function(){return a.a.createRef()}),R($+1)},[e]),Object(r.useLayoutEffect)(function(){if(c||0===e.length||(d.current=e.map(function(t,e){return e}),w.current=k.current.map(function(t){return t.current.offsetHeight}),z(w.current),S(s(d.current))),c&&e.length>b.current.length&&(d.current=[0].concat(Object(x.a)(d.current.map(function(t){return t+1}))),w.current=[k.current[0].current.offsetHeight].concat(Object(x.a)(w.current)),z(w.current),S(s(d.current))),c&&e.length<b.current.length){var t=b.current.findIndex(function(t){return-1===e.findIndex(function(e){return e.id===t})}),n=d.current.indexOf(t);d.current=d.current.filter(function(e){return e!==t}).map(function(e){return e>t?e-1:e}),w.current=w.current.filter(function(t,e){return e!==n}),z(w.current),S(s(d.current))}var r=w.current.reduce(function(t,e){return t+e},0);j(r),i(r),b.current=e.map(function(t){return t.id})},[$]);var z=function(t){g.current=t.map(function(e,n){return t.reduce(function(e,r,a){return 0!==a&&a<=n&&(e+=t[a-1]),e},0)}),v.current=g.current.map(function(e,n){return{topBorder:e,center:e+t[n]/2,bottomBorder:e+t[n]}})},N=Object(ht.a)(function(t){var r=Object(h.a)(t.args,2),a=r[0],i=r[1],o=t.down,c=Object(h.a)(t.movement,2)[1],p=t.event,b=t.first;p.stopPropagation(),console.log(p,c);var x=d.current.indexOf(i);b&&(l.current=g.current[x],m.current=[-l.current,g.current[e.length-1]-l.current]),l.current||(l.current=g.current[x]);var v=function(t,e){if(e>0){for(var n=t,r=0;e>r+w.current[t+1]/2;)n+=1,r+=w.current[t+1];return n>w.current.length-1?w.current.length-1:n}if(e<0){for(var a=t,i=0;Math.abs(e)>i+w.current[t-1]/2;)a-=1,i+=w.current[t-1];return a<0?0:a}return t}(x,c),k=A(d.current,x,v),O=A(w.current,x,v);if(z(O),S(s(k,o,a,c)),!o&&(d.current=k,w.current=O,l.current=null,!St()(d.current,f.current))){var y=d.current.map(function(t){return e[t].id});u(Q(n,y))}},{filterTaps:!0});return a.a.createElement(_t,{$height:I},e.map(function(t,r){return a.a.createElement(Ct,Object.assign({},c&&Object(p.a)({},N(e.length-r-1,r)),{key:t.id,style:T[e.length-r-1],ref:k.current[r]}),a.a.createElement(Et,{task:t,todoListId:n,palette:o}))}))},St.a),Rt=(n(48),u.b.div.withConfig({displayName:"TodoListTitle__ListTitle",componentId:"ny47b1-0"})(["background-image:",";color:",";position:relative;font-size:25px;text-align:center;padding:15px 10px;margin:0 auto 10px auto;width:100%;border-radius:10px;outline:none;display:inline-block;overflow-wrap:break-word;-webkit-line-break:after-white-space;transform:scale(",');transition:transform .5s cubic-bezier(0.25,0,0,1);&:before{border-radius:10px;content:"";position:absolute;top:0;bottom:0;left:0;right:0;box-shadow:',";}"],function(t){return t.$palette.background},function(t){return t.$palette.color},function(t){return t.contentEditable?1.3:1},function(t){return t.$palette.innerShadows})),At=a.a.memo(function(t){var e=t.listTitle,n=t.id,i=t.isTitleEditable,o=(t.deleteTodoList,t.switchTitleMode),c=t.palette,u=Object(ft.c)();Object(r.useEffect)(function(){s.current&&i&&(s.current.focus(),u(J(!0)))},[i]);var s=Object(r.useRef)(null);Object(r.useLayoutEffect)(function(){s.current&&(s.current.textContent=e,""===e&&o())},[e]);return a.a.createElement(Rt,{contentEditable:i,ref:s,onKeyPress:function(t){return function(t){"Enter"===t.key&&(t.preventDefault(),s.current.blur())}(t)},onBlur:function(){s.current.textContent,u(F(n,s.current.textContent)),o(),u(J(!1))},$palette:c})}),zt=u.b.div.withConfig({displayName:"ContextButtons__ButtonWrapper",componentId:"sc-1jk9sr1-0"})(["z-index:0;position:absolute;top:15px;left:15px;border-radius:100%;width:0;height:0;opacity:0;transform:translate(-50%,-50%);transition:opacity .6s cubic-bezier(0.25,0,0,1),width 0s linear .6s,height 0s linear .6s;"]),Nt=u.b.div.withConfig({displayName:"ContextButtons__Button",componentId:"sc-1jk9sr1-1"})(["display:grid;place-items:center;position:absolute;width:40px;height:40px;border-radius:100%;cursor:pointer;font-size:20px;background:",";color:",";box-shadow:",";;transform:translate(-50%,-50%);transition:.25s cubic-bezier(0.25,0,0,1);&:hover{background-color:",";color:",";}&:first-child:nth-last-child(3),&:first-child:nth-last-child(3) ~ *{&:nth-child(1){left:50px;top:0;}&:nth-child(2){left:0;top:0;}&:nth-child(3){left:0;top:50px;}}"],function(t){return t.styles.background},function(t){return t.styles.color},function(t){return t.styles.littleShadows},function(t){return t.styles.background},function(t){return t.styles.color}),Bt=a.a.memo(function(t){var e=t.colors,n=t.deleteTodoList,r=t.addTask,i=t.editList;return a.a.createElement(zt,null,a.a.createElement(Nt,{styles:e,onClick:r},a.a.createElement(xt.a,{icon:"plus"})),a.a.createElement(Nt,{styles:e,onClick:n},a.a.createElement(xt.a,{icon:"trash"})),a.a.createElement(Nt,{styles:e,onClick:i},a.a.createElement(xt.a,{icon:"edit"})))}),Dt=u.b.div.withConfig({displayName:"TodoList__SingleListWrapper",componentId:"sc-1q87794-0"})(["position:relative;transform-style:preserve-3d;transform-origin:50% 50%;backface-visibility:hidden;overflow:visible;padding:25px;font-family:NunitoSans-Light;&:hover{z-index:5;}"]),Ht=(u.b.div.withConfig({displayName:"TodoList__DetailsWrapper",componentId:"sc-1q87794-1"})(["position:absolute;top:50%;left:100%;transform-origin:50% 50%;transform:rotateZ(-90deg) translateY(-50%);transform-style:preserve-3d;font-size:25px;white-space:nowrap;"]),u.b.div.withConfig({displayName:"TodoList__SingleListBottomLayer",componentId:"sc-1q87794-2"})(["border-radius:30px;transform-style:preserve-3d;transform-origin:50% 100%;padding:25px;background:",";position:relative;transform:translateZ(0);transition:transform .6s cubic-bezier(0.25,0,0,1);",' &:before{border-radius:30px;content:"";position:absolute;top:0;z-index:-1;bottom:0;left:0;right:0;border:5px solid transparent;transition:border,opacity .3s linear;box-shadow:',";opacity:",";};&:hover:before{border:5px solid ",";",'};&:after{border-radius:30px;content:"";position:absolute;top:0;z-index:-1;bottom:0;left:0;right:0;box-shadow:20px 20px 40px rgba(0,0,0,.4);transition:opacity .3s linear;opacity:',";};"," ",""],function(t){return z[t.$palette].concaveBackground},function(t){return!t.$editable&&"&:hover {\n        transform: translateZ(100px)\n  }"},function(t){return z[t.$palette].shadows},function(t){return t.$closeLookState?1:0},function(t){return z[t.$palette].background},function(t){return t.$editable&&"opacity: 1"},function(t){return t.$closeLookState?0:1},function(t){return t.$editable&&"&:hover:after {opacity: 0}"},function(t){return t.$editable&&!t.$focusedStatus&&"&:hover ".concat(zt,",  ").concat(zt,":focus-within {\n       width: 90px;\n       height: 90px;\n       opacity: 1;\n       transition: opacity .6s cubic-bezier(0.25, 0, 0, 1);\n    };")})),Mt=a.a.memo(function(t){var e=t.id,n=t.listTitle,i=t.listTasks,o=t.paletteIndex,c=t.setNewHeights,u=t.deleteList,s=t.closeLook,d=Object(ft.c)(),l=Object(ft.d)(function(t){return t.todoList.editable},ft.b),f=Object(ft.d)(function(t){return t.todoList.focusedStatus},ft.b),b=Object(r.useRef)(0),x=Object(r.useRef)(null),g=Object(r.useCallback)(function(t){0===b.current&&x.current&&(b.current=x.current.offsetHeight),b.current!==t&&c(t+b.current,e)},[]),w=Object(r.useState)("All"),m=Object(h.a)(w,2),v=m[0],k=(m[1],Object(r.useCallback)(function(){u(e),d(K(e))},[])),O=i?i.filter(function(t){return"All"===v||("Active"===v?0===t.status:"Completed"===v?2===t.status:void 0)}):[],y=Object(ht.b)(function(t){var e=t.hovering;e&&d(et(z[o])),e||d(et(N))}),I=Object(r.useState)(!1),j=Object(h.a)(I,2),L=j[0],E=j[1],T=Object(r.useCallback)(function(){E(!L)},[L]);return a.a.createElement(Dt,Object.assign({},!s&&Object(p.a)({},y()),{ref:x}),a.a.createElement(Ht,{$palette:o,$editable:l,$closeLookState:s,$focusedStatus:f},a.a.createElement(Bt,{colors:z[o],deleteTodoList:k,addTask:function(){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t,e){return("x"==t?16*Math.random()|0:3&e|8).toString(16)});d(X({title:"",id:t,todoListId:e},e))},editList:T}),a.a.createElement(At,{listTitle:n,id:e,isTitleEditable:L,deleteTodoList:k,switchTitleMode:T,palette:z[o]}),a.a.createElement($t,{todoListId:e,tasks:O,setHeight:g,palette:z[o]})))},St.a),Pt=Object(u.b)(bt.animated.div).withConfig({displayName:"CloseButton",componentId:"h88j1q-0"})(["display:grid;place-items:center;width:40px;height:40px;border-radius:100%;cursor:pointer;font-size:20px;background:",";color:",";box-shadow:",";;transition:.25s cubic-bezier(0.25,0,0,1);&:hover{background:",";color:",";}"],function(t){return t.$palette.background},function(t){return t.$palette.color},function(t){return t.$palette.littleShadows},function(t){return t.$palette.background},function(t){return t.$palette.background}),Wt=function(){var t=Object(ft.d)(function(t){return t.todoList.currentPaletteIndex},ft.b);return a.a.createElement(Pt,{$palette:t},a.a.createElement(xt.a,{icon:"times"}))},Xt=Object(u.b)(bt.animated.div).withConfig({displayName:"MappedLists__TodoListContainer",componentId:"yvzgg3-0"})(["  transform-style:preserve-3d;position:absolute;width:","px;"],function(t){return t.$width}),Yt=Object(u.b)(bt.animated.div).withConfig({displayName:"MappedLists__CloseButtonAnimatedWrapper",componentId:"yvzgg3-1"})(["position:absolute;border-radius:100%;"]),Kt=a.a.memo(function(t){var e=t.setWrapperAnimation,n=t.width,i=t.scrollByListDrugging,o=t.setCloseLookState,c=t.returnFromCloseLookState,u=t.switchScrollBar,s=Object(ft.d)(function(t){return t.todoList.editable},ft.b),d=Object(ft.d)(function(t){return t.todoList.todoLists},St.a),l=Object(ft.c)(),f=Object(r.useMemo)(function(){return n>=1700?4:n>=1100?3:n>=700?2:1},[n]),g=Object(r.useMemo)(function(){return n/f},[n]);Object(r.useEffect)(function(){E(),L(function(t){var e=O.current.find(function(e){return e.index===d.length-1-t});return{x:e.x,y:e.y}})},[n,f,g]);var w=Object(r.useRef)([]),m=Object(r.useCallback)(function(t,e){var n=w.current.findIndex(function(t){return t.id===e}),r=-1===n?[].concat(Object(x.a)(w.current),[{height:t,id:e}]):w.current.map(function(r,a){return a===n?{height:t,id:e}:r});w.current=r,r.length===d.length&&(E(),L(function(t){var e=O.current.find(function(e){return e.index===d.length-1-t});return{x:e.x,y:e.y}}))},[d,n,f,g]),v=Object(r.useCallback)(function(t){w.current=w.current.filter(function(e){return e.id!==t})},[]),k=Object(r.useRef)(0),O=Object(r.useRef)([]),y=Object(bt.useSprings)(d.length,function(t){if(0===O.current.length)return{x:0,y:0,zIndex:3,opacity:1,display:"block"};var e=O.current.find(function(e){return e.index===t});return{x:e?e.x:0,y:e?e.y:0,opacity:1,zIndex:3,display:"block"}},[d]),I=Object(h.a)(y,2),j=I[0],L=I[1];Object(r.useEffect)(function(){if(!s&&0===O.current.length){var t=new Array(f).fill(0);O.current=d.map(function(e,n){var r=w.current.find(function(t){return e.id===t.id}),a=r?r.height:0,i=n%f,o=g*i,c=(t[i]+=a)-a,u=o+g,s=c+a,d=o+g/2,l=c+a/2,p=n;return{x:o,y:c,height:a,id:e.id,botY:s,rightX:u,horizontalCenter:d,verticalCenter:l,index:p}}),k.current=Math.max.apply(Math,Object(x.a)(t)),l(it(k.current)),e({height:k.current})}if(s&&O.current.length<d.length&&(O.current=[{x:0,y:0,height:0,id:d[0].id,botY:0,rightX:0,horizontalCenter:0,verticalCenter:0,index:0}].concat(Object(x.a)(O.current)).map(function(t,e){return 0===e?t:Object(p.a)({},t,{index:t.index+1})}),E()),s&&O.current.length>d.length){var n=O.current.findIndex(function(t){return-1===d.findIndex(function(e){return e.id===t.id})}),r=O.current[n];O.current=O.current.map(function(t){var e=t.index>r.index?t.index-1:t.index;return Object(p.a)({},t,{index:e})}).filter(function(t,e){return e!==n}),E()}O.current.length===d.length&&E(),L(function(t){var e=O.current.find(function(e){return e.index===d.length-1-t});return{x:e.x,y:e.y}}),console.log(O.current)},[d]);var E=function(){var t=new Array(f).fill(0);O.current=O.current.map(function(e,n){var r=w.current.find(function(t){return e.id===t.id}),a=r?r.height:0,i=n%f,o=g*i,c=(t[i]+=a)-a,u=o+g,s=c+a,d=o+g/2,l=c+a/2;return Object(p.a)({},e,{x:o,y:c,rightX:u,botY:s,horizontalCenter:d,verticalCenter:l,height:a})}),Math.max.apply(Math,Object(x.a)(t))!==k.current&&(k.current=Math.max.apply(Math,Object(x.a)(t)),e({height:k.current}),l(it(k.current)))},T=function(t,n){var r,a,i,o=new Array(f).fill(0);O.current=(r=O.current,a=t,i=n,r.map(function(t,e){return e===a?r[i]:e===i?r[a]:t})).map(function(t,e){var n=e%f,r=g*n,a=(o[n]+=t.height)-t.height,i=r+g,c=a+t.height,u=r+g/2,s=a+t.height/2;return Object(p.a)({},t,{x:r,y:a,rightX:i,botY:c,horizontalCenter:u,verticalCenter:s})}),Math.max.apply(Math,Object(x.a)(o))!==k.current&&(k.current=Math.max.apply(Math,Object(x.a)(o)),e({height:k.current}),l(it(k.current)))},S=function(t,e){var n=C.current.horizontalCenter+t,r=C.current.verticalCenter+e,a=O.current.findIndex(function(t){if(t.x<n&&t.rightX>n&&t.y<r&&t.botY>r)return!0});return a<d.length&&a>=0?a:null},_=function(t,e,n){L(function(r){if(r===n)return{x:C.current.x+t,y:C.current.y+e,zIndex:4,immediate:function(t){return"zIndex"===t}};var a=O.current.find(function(t){return t.index===d.length-1-r});return{x:a.x,y:a.y}})},C=Object(r.useRef)({botY:0,height:0,horizontalCenter:0,id:"",index:0,rightX:0,verticalCenter:0,x:0,y:0}),$=Object(r.useRef)({left:0,right:0,top:0,bottom:0,pageTop:0,pageBottom:0}),R=Object(r.useRef)(null),A=Object(r.useRef)(0),B=Object(ht.a)(function(t){var e=Object(h.a)(t.args,2),r=e[0],a=e[1],o=t.down,c=Object(h.a)(t.movement,2),u=c[0],s=c[1],p=t.active,x=t.first,g=t.event;null===g||void 0===g||g.stopPropagation();var w=O.current.findIndex(function(t){return t.index===r});if(x&&(C.current=O.current[w],R.current={offsetX:g.offsetX,offsetY:g.offsetY,clientX:g.clientX,clientY:g.clientY},function(){var t=-C.current.x-25+R.current.offsetX,e=n-C.current.rightX+25+(n/f-R.current.offsetX),r=-C.current.y-25-R.current.offsetY-25,a=k.current-C.current.y-25-(C.current.height-(R.current.offsetY+25)),i=-R.current.clientY-25,o=window.innerHeight-R.current.clientY-(C.current.height-75-R.current.offsetY);$.current={left:t,right:e,top:r,bottom:a,pageTop:i,pageBottom:o}}(),A.current=s,console.log($.current)),p)if(s>$.current.pageBottom)!function(){var t;b.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(A.current<$.current.bottom)){e.next=6;break}return t=new Promise(function(t){setTimeout(function(){i("bottom"),A.current=A.current+5;var e=S(u,A.current);null!==e&&e!==w&&T(w,e),_(u,A.current,a),t()},5)}),e.next=4,b.a.awrap(t);case 4:e.next=0;break;case 6:case"end":return e.stop()}})}();else if(s<$.current.pageTop)!function(){var t;b.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(A.current>$.current.top)){e.next=6;break}return t=new Promise(function(t){setTimeout(function(){i("top"),A.current=A.current-5;var e=S(u,A.current);null!==e&&e!==w&&T(w,e),_(u,A.current,a),t()},5)}),e.next=4,b.a.awrap(t);case 4:e.next=0;break;case 6:case"end":return e.stop()}})}();else{A.current=s;var m=S(u,A.current);null!==m&&m!==w&&T(w,m),_(u,A.current,a)}if(!o){R.current=null,L(function(t){var e=O.current.find(function(e){return e.index===d.length-1-t});return{x:e.x,y:e.y,zIndex:3}});var v=O.current.map(function(t){return t.id});l(V(v))}},{filterTaps:!0}),D=Object(r.useState)(null),H=Object(h.a)(D,2),M=H[0],P=H[1],W=Object(bt.useSpring)(function(){return{x:0,y:0,opacity:0,display:"none"}}),X=Object(h.a)(W,2),Y=X[0],K=X[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Yt,{onClick:function(){return b.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return u(!1),K({to:function(t){return b.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.awrap(t({opacity:0}));case 2:return e.next=4,b.a.awrap(t({display:"none"}));case 4:case"end":return e.stop()}})}}),t.next=4,b.a.awrap(L(function(t){if(t!==d.length-1-M)return{to:!1};var e=O.current.find(function(t){return t.index===M});return{x:e.x,y:e.y}}));case 4:return l(dt(!1)),c(),t.next=8,b.a.awrap(e({x:window.innerWidth<=800?"-5vw":"-15vw",rotateX:45,rotateZ:45,y:275,height:k.current,immediate:function(t){return"height"===t}}));case 8:l(et(N)),P(null),L(function(t){return t!==d.length-1-M?{opacity:1,display:"block"}:{to:!1}});case 11:case"end":return t.stop()}})},style:Y},a.a.createElement(Wt,null)),0!==d.length&&d.map(function(t,r){return a.a.createElement(Xt,Object.assign({style:j[d.length-r-1]},s&&Object(p.a)({},B(r,d.length-r-1)),{onClick:function(){return function(t){var r;return b.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!s&&null===M){a.next=2;break}return a.abrupt("return");case 2:return r=O.current.find(function(e){return e.index===t}),u(!1),l(dt(!0)),a.next=7,b.a.awrap(L(function(e){return e!==d.length-1-t?{to:function(t){return b.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.awrap(t({opacity:0}));case 2:return e.next=4,b.a.awrap(t({display:"none"}));case 4:case"end":return e.stop()}})}}:{to:!1}}));case 7:return e({height:window.innerHeight,x:window.innerWidth<=800?"5vw":"15vw",rotateX:0,rotateZ:0,y:0}),o(r.height),l(et(z[(d.length-1-t)%z.length])),P(t),a.next=13,b.a.awrap(L(function(e){return e!==d.length-1-t?{to:!1}:{y:window.innerHeight/2-r.height/2,x:n/2-n/f/2}}));case 13:K({to:function(t){return b.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.awrap(t({y:window.innerHeight/2-r.height/2-60,x:n/2+n/f/2+20,display:"block",immediate:!0}));case 2:return e.next=4,b.a.awrap(t({opacity:1,immediate:!1}));case 4:case"end":return e.stop()}})}});case 14:case"end":return a.stop()}})}(r)},$width:g,key:t.id}),a.a.createElement(Mt,{id:t.id,paletteIndex:(d.length-1-r)%z.length,deleteList:v,setNewHeights:m,closeLook:r===M,listTitle:t.title,listTasks:t.tasks}))}))},St.a),Zt=n(30),Ft=Object(u.b)(bt.animated.div).withConfig({displayName:"ScrollWrapper__AllLists",componentId:"sc-1icdiot-0"})(["position:relative;transform-style:preserve-3d;width:70vw;top:","px;@media screen and (max-width:800px){transition:top 0.5s cubic-bezier(0.25,0,0,1);top:",";width:90vw}"],function(t){return t.$editable&&(.22*window.innerHeight<=200?200:.22*window.innerHeight)||0},function(t){return t.$editable||t.$closeLook?"".concat(.22*window.innerHeight<=200?200:.22*window.innerHeight,"px"):"-50vh"}),Gt=Object(u.b)(bt.animated.div).withConfig({displayName:"ScrollWrapper__ScrollableWrapper",componentId:"sc-1icdiot-1"})(["position:absolute;transform-style:preserve-3d;width:100%;height:100%;z-index:1;left:50%;top:","px;transition:top 0.5s cubic-bezier(0.25,0,0,1);max-width:2000px;"],function(t){return t.top}),qt=Object(u.b)(bt.animated.div).withConfig({displayName:"ScrollWrapper__ScrollBarWrapper",componentId:"sc-1icdiot-2"})(["position:absolute;width:30px;border-radius:10px;height:","px;top:","px;right:0;overflow:hidden;transition:.6s cubic-bezier(0.25,0,0,1);background:",";cursor:pointer;"],function(t){return t.$editable?.22*window.innerHeight<=200?window.innerHeight-200:window.innerHeight-.22*window.innerHeight:window.innerHeight},function(t){return t.$editable&&(.22*window.innerHeight<=200?200:.22*window.innerHeight)||0},function(t){return t.$palette.progressBarColor}),Ut=Object(u.b)(bt.animated.div).withConfig({displayName:"ScrollWrapper__ScrollBarThing",componentId:"sc-1icdiot-3"})(["position:absolute;width:20px;left:50%;transform:translateX(-50%);height:","%;border-radius:10px;transition:background-image 0.3s cubic-bezier(0.25,0,0,1);background:",";&:before{transition:opacity 0.3s cubic-bezier(0.25,0,0,1);position:absolute;width:100%;height:100%;content:'';border-radius:10px;background-color:",";opacity:0;}&:hover:before{opacity:1;}"],function(t){return t.$height},function(t){return t.$drugged?B:t.$palette.background},function(t){return t.$palette.default?B:"rgba(0, 0, 0, 0.3)"}),Jt=function(){var t=Object(ft.d)(function(t){return t.todoList.currentPaletteIndex},ft.b),e=Object(ft.d)(function(t){return t.todoList.editable},ft.b),n=Object(ft.d)(function(t){return t.todoList.height},ft.b),i=Object(ft.c)();Object(r.useEffect)(function(){i(function(t){var e;return b.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(k());case 2:if(e=n.sent,console.log(e),e.data.id){n.next=7;break}return n.next=7,b.a.awrap(O());case 7:t(lt(!0));case 8:case"end":return n.stop()}})});var t=!0,e=void 0,n=function(){t&&(clearTimeout(e),e=window.setTimeout(function(){return R(S.current.offsetWidth)},150))};return window.addEventListener("resize",n),function(){t=!1,window.removeEventListener("resize",n)}},[]);var o=Object(r.useState)({border:0,scrollBarHeight:0}),c=Object(h.a)(o,2),u=c[0],s=u.border,d=u.scrollBarHeight,l=c[1],f=Object(r.useState)(!1),x=Object(h.a)(f,2),g=x[0],w=x[1],m=Object(r.useState)(!1),v=Object(h.a)(m,2),y=v[0],I=v[1],j=Object(r.useState)(!1),L=Object(h.a)(j,2),E=L[0],T=L[1];Object(r.useEffect)(function(){n<window.innerHeight?I(!1):I(!0);var t=e?n-window.innerHeight<0?0:n-window.innerHeight+275:n-window.innerHeight<0?.5*n:n-window.innerHeight/2,r=n?(window.innerHeight-275)/n*100:0;l({border:t,scrollBarHeight:r})},[n,e]);var S=Object(r.useRef)(null),_=Object(r.useState)(0),C=Object(h.a)(_,2),$=C[0],R=C[1];Object(r.useLayoutEffect)(function(){R(S.current.offsetWidth)},[]);var A=Object(bt.useSpring)(function(){return{x:window.innerWidth<=800?"-5vw":"-15vw",rotateX:45,rotateZ:45,y:275,height:0,config:{tension:100,friction:60,clamp:!0}}}),z=Object(h.a)(A,2),N=z[0],B=z[1];Object(r.useEffect)(function(){B({x:e?window.innerWidth<=800?"5vw":"15vw":window.innerWidth<=800?"-5vw":"-15vw",rotateX:e?0:45,rotateZ:e?0:45,y:e?0:275})},[e]);var D=Object(r.useRef)(0),H=Object(r.useRef)(0),M=Object(r.useRef)([]),P=Object(bt.useSpring)(function(){return{y:0,top:"0%",immediate:!1}}),W=Object(h.a)(P,2),X=W[0],Y=W[1],K=Object(bt.useSpring)({from:{opacity:0,right:-50,display:"none"},to:function(t){return b.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.awrap(t(y?{display:"block"}:{opacity:0,right:-50}));case 2:return e.next=4,b.a.awrap(t(y?{opacity:1,right:0}:{display:"none"}));case 4:case"end":return e.stop()}})}});Object(ht.c)(function(t){var e=Object(h.a)(t.delta,2)[1];y&&(D.current=D.current+e<s&&D.current+e>0?D.current+e:D.current+e<=0?0:s,H.current=D.current/s*(100-d),Y({y:-D.current,top:"".concat(H.current,"%")}))},{domTarget:window}),Object(ht.a)(function(t){var e=Object(h.a)(t.offset,2)[1],n=t.active,r=t.event;if(Zt.isMobile&&y&&(null===r||void 0===r||r.preventDefault(),n)){var a=-e;D.current=a<s&&a>0?a:a<=0?0:s,H.current=D.current/s*(100-d),Y({y:-D.current,top:"".concat(H.current,"%")})}},{domTarget:window,filterTaps:!0,eventOptions:{passive:!1}});var Z=Object(ht.a)(function(t){var e=Object(h.a)(t.delta,2)[1],n=t.event,r=t.first,a=t.down;null===n||void 0===n||n.stopPropagation(),r&&w(!0);var i=e/window.innerHeight*100;H.current=H.current+i>0&&H.current+i<100-d?H.current+i:H.current+i<=0?0:100-d,D.current=s*H.current/(100-d),Y({y:-D.current,top:"".concat(H.current,"%"),immediate:function(t){return"top"===t}}),a||w(!1)}),F=Object(r.useCallback)(function(t){"bottom"===t&&D.current<s&&(D.current=D.current+5<s?D.current+5:s,H.current=D.current/s*(100-d),Y({y:-D.current,top:"".concat(H.current,"%")})),"top"===t&&D.current>0&&(D.current=D.current-5>0?D.current-5:0,H.current=D.current/s*(100-d),Y({y:-D.current,top:"".concat(H.current,"%")}))},[s,d]),G=Object(r.useCallback)(function(t){var e=t>window.innerHeight-(Zt.isMobile?100:250)?t-(window.innerHeight-(Zt.isMobile?100:250)):0;if(e>0){M.current=[D.current,H.current,s,d];var n=(window.innerHeight-(Zt.isMobile?100:250))/t*100;l({border:e,scrollBarHeight:n}),D.current=0,H.current=0,Y({y:0,top:"".concat(0,"%")}),I(!0)}T(!0)},[s,d]),q=Object(r.useCallback)(function(){0!==M.current.length&&(D.current=M.current[0],H.current=M.current[1],l({border:M.current[2],scrollBarHeight:M.current[3]}),Y({y:-M.current[0],top:"".concat(M.current[1],"%")})),I(!0),T(!1)},[]),U=Object(r.useCallback)(function(t){return I(t)},[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ft,{style:N,$editable:e,$closeLook:E},a.a.createElement(Gt,{style:{y:X.y,translateX:"-50%"},ref:S,top:E&&y&&Zt.isMobile?50:E&&y&&!Zt.isMobile?125:25},a.a.createElement(Kt,{setWrapperAnimation:B,width:$,scrollByListDrugging:F,setCloseLookState:G,returnFromCloseLookState:q,switchScrollBar:U}))),a.a.createElement(qt,{$palette:t,$visible:y,style:K,$editable:e},a.a.createElement(Ut,Object.assign({$palette:t,$drugged:g,style:{top:X.top}},!Zt.isMobile&&Object(p.a)({},Z()),{$height:d}))))};s.b.add(d.a,l.a);var Qt=Object(u.b)(bt.animated.div).withConfig({displayName:"AnimatedBackground__Background",componentId:"sc-1kie0hv-0"})(["  position:fixed;width:100vw;height:100vh;"]),Vt=function(){var t=Object(ft.d)(function(t){return t.todoList.currentPaletteIndex},ft.b),e=Object(bt.useSpring)(function(){return{background:t.background}}),n=Object(h.a)(e,2),i=n[0],o=n[1];return Object(r.useEffect)(function(){o({background:t.background})},[t]),a.a.createElement(Qt,{style:i})},te=Object(u.b)(bt.animated.div).withConfig({displayName:"MainInterface__RotatedBackground",componentId:"sc-104iikv-0"})(["position:absolute;z-index:998;background-color:",";width:300%;min-height:200px;transform-origin:50% 0;left:-150%;transition:background-color 0.3s cubic-bezier(0.25,0,0,1);box-shadow:",";&:before{position:absolute;width:100%;height:100%;content:'';background-color:",";}"],function(t){return t.$palette.default?B:t.$palette.background},function(t){return t.$palette.default?B:t.$palette.background},function(t){return t.$palette.default?B:"rgba(0, 0, 0, 0.3)"}),ee=Object(u.b)(bt.animated.div).withConfig({displayName:"MainInterface__Wrapper",componentId:"sc-104iikv-1"})(["position:absolute;font-family:NunitoSans-ExtraLight,sans-serif;box-sizing:border-box;display:grid;place-items:center;z-index:999;min-width:150px;min-height:150px;"]),ne=u.b.div.withConfig({displayName:"MainInterface__ButtonsWrapper",componentId:"sc-104iikv-2"})(["position:absolute;width:16vw;height:16vw;max-width:210px;min-width:130px;max-height:210px;min-height:130px;border-radius:50%;display:grid;place-items:center;"]),re=u.b.div.withConfig({displayName:"MainInterface__EditButton",componentId:"sc-104iikv-3"})(["cursor:pointer;position:relative;z-index:3;width:15vw;height:15vw;max-width:210px;min-width:130px;max-height:210px;min-height:130px;border-radius:50%;box-shadow:",";background:",";"],function(t){return t.$palette.default?D:t.$palette.shadows},function(t){return t.$palette.default?B:t.$palette.background}),ae=Object(u.b)(bt.animated.div).withConfig({displayName:"MainInterface__ProgressBackground",componentId:"sc-104iikv-4"})(["width:100%;height:100%;border-radius:50%;background-color:red;position:absolute;overflow:hidden;"]),ie=Object(u.b)(bt.animated.div).withConfig({displayName:"MainInterface__Progress",componentId:"sc-104iikv-5"})(["width:100%;height:100%;border-radius:50%;position:absolute;background-color:black;"]),oe=u.b.div.withConfig({displayName:"MainInterface__InnerBackground",componentId:"sc-104iikv-6"})(["width:90%;height:90%;top:5%;left:5%;position:absolute;background:",";color:",";display:grid;place-items:center;border-radius:50%;",""],function(t){return t.$palette.default?B:t.$palette.background},function(t){return t.$palette.default?M:t.$palette.color},function(t){return!t.$altBackground&&"&:hover {\n        background: ".concat(t.$palette.background,";\n        color: ").concat(t.$palette.color,";\n  }")}),ce=Object(u.b)(bt.animated.div).withConfig({displayName:"MainInterface__InnerEditButtonText",componentId:"sc-104iikv-7"})(["z-index:12;text-align:center;position:absolute;overflow:hidden;top:50%;font-size:calc(15px + (50 - 15) * ((100vw - 100px) / (1200 - 100)));"]),ue=u.b.div.withConfig({displayName:"MainInterface__SmallerButton",componentId:"sc-104iikv-8"})(["cursor:pointer;position:absolute;z-index:2;width:7vw;height:7vw;max-width:105px;min-width:70px;max-height:105px;min-height:70px;border-radius:50%;display:grid;place-items:center;box-shadow:",";background:",";color:",";transform:translate(-50%,-50%);top:50%;left:",";transition:left 0.4s cubic-bezier(0.25,0,0,1) 0.3s,background,color 0.4s cubic-bezier(0.25,0,0,1);&:hover{background:",";color:",";}"],function(t){return t.$palette.default?H:t.$palette.littleShadows},function(t){return t.$palette.default?B:t.$palette.background},function(t){return t.$palette.color},function(t){return t.$editable?"-20%":"50%"},function(t){return t.$palette.default?B:t.$palette.background},function(t){return t.$palette.default?M:t.$palette.color}),se=Object(u.b)(bt.animated.div).withConfig({displayName:"MainInterface__MediumButton",componentId:"sc-104iikv-9"})(["cursor:pointer;position:absolute;z-index:1;width:10vw;height:10vw;max-width:160px;min-width:100px;max-height:160px;min-height:100px;border-radius:50%;display:grid;place-items:center;box-shadow:",";background:",";color:",";transform:translate(-50%,-50%);top:50%;left:",";transition:left 0.4s cubic-bezier(0.25,0,0,1) 0.3s,background,color 0.4s cubic-bezier(0.25,0,0,1);&:hover{background:",";color:",";}"],function(t){return t.$palette.default?H:t.$palette.littleShadows},function(t){return t.$palette.default?B:t.$palette.background},function(t){return t.$palette.color},function(t){return t.$editable?"130%":"50%"},function(t){return t.$palette.default?B:t.$palette.background},function(t){return t.$palette.default?M:t.$palette.color}),de=u.b.div.withConfig({displayName:"MainInterface__InnerSmallerButtonText",componentId:"sc-104iikv-10"})(["text-align:center;font-size:calc(10px + (20 - 10) * ((100vw - 50px) / (1200 - 50)));"]),le=function(){var t=Object(ft.c)(),e=Object(ft.d)(function(t){return t.todoList.editable},ft.b),n=Object(ft.d)(function(t){return t.todoList.currentPaletteIndex},ft.b),i=Object(ft.d)(function(t){return t.todoList.pendingState},ft.b),o=Object(ft.d)(function(t){return t.todoList.initialLoadingState},ft.b),c=Object(ft.d)(function(t){return t.todoList.swapState},ft.b),u=Object(ft.d)(function(t){return t.todoList.allTasks},ft.b),s=Object(ft.d)(function(t){return t.todoList.completedTasks},ft.b),d=Object(ft.d)(function(t){return t.todoList.fetchingState},ft.b),l=Object(ft.d)(function(t){return t.todoList.closeLookState},ft.b),f=Object(r.useState)(window.innerHeight),g=Object(h.a)(f,2),w=(g[0],g[1]);Object(r.useEffect)(function(){var t=!0,e=void 0,n=function(){t&&(clearTimeout(e),e=window.setTimeout(function(){return w(window.innerHeight)},150))};return window.addEventListener("resize",n),function(){t=!1,window.removeEventListener("resize",n)}},[]);var m=Object(bt.useSpring)(function(){return{height:"100%",width:"100%",backgroundHeight:"150%",rotateZ:-35}}),v=Object(h.a)(m,2),k=v[0],O=v[1],R=Object(bt.useSpring)(function(){return{clipPath1:"polygon( 50% 0%, 100% 0%, 100% 200%, 50% 200%)",clipPath2:"polygon( 0% 0%, 50% 0%, 50% 200%, 0% 200%)",opacity:1}}),z=Object(h.a)(R,2),N=z[0],B=z[1];Object(r.useEffect)(function(){var t=0===u?0:s/u,e=200-(200-200*t),n=200-200*t;B(function(){return 1===t?{to:function(t){return b.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.awrap(t({clipPath1:"polygon( 50% ".concat(e,"%, 100% ").concat(e,"%, 100% 200%, 50% 200%)"),clipPath2:"polygon( 0% 0%, 50% 0%, 50% ".concat(n,"%, 0% ").concat(n,"%)")}));case 2:return r.next=4,b.a.awrap(t({opacity:0}));case 4:case"end":return r.stop()}})}}:{clipPath1:"polygon( 50% ".concat(e,"%, 100% ").concat(e,"%, 100% 200%, 50% 200%)"),clipPath2:"polygon( 0% 0%, 50% 0%, 50% ".concat(n,"%, 0% ").concat(n,"%)"),opacity:1,immediate:function(t){return"opacity"===t}}})},[u,s]),Object(r.useEffect)(function(){o||e?e?O({backgroundHeight:"22%",height:"20%",width:"100%",rotateZ:0}):l&&O({height:"20%",width:"20%",rotateZ:0}):O({height:"20%",width:"20%",backgroundHeight:"25%",rotateZ:-35,config:{friction:50}})},[e,i,o,c,d,l]);var D=Object(r.useMemo)(function(){return o?"Loading":e?"Submit":i?"Sending data":"Edit"},[e,i,o,c,d]),H=Object(bt.useTransition)(D,{from:{opacity:1,y:"-100%"},enter:{opacity:1,y:"0%"},leave:{opacity:0,y:"100%"}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(te,{$palette:n,style:{height:k.backgroundHeight,rotateZ:k.rotateZ}}),a.a.createElement(ee,{style:{width:k.width,height:k.height}},a.a.createElement(ne,null,a.a.createElement(re,{onClick:function(){e||t(G()),e&&t(function(t,e){var n,r,a,i,o,c,u,s,d,l,f,h,g,w,m,v,k,O,R,z,N,B,D,H,M;return b.a.async(function(P){for(;;)switch(P.prev=P.next){case 0:if(t(q()),t(at(!0)),n=e().todoList.deepCopy,r=e().todoList.todoLists,a=e().todoList.listsOrder,i=e().todoList.tasksOrder,o=[],c=[],u=[],s=r.filter(function(t){return-1===n.findIndex(function(e){return e.id===t.id})}),d=n.filter(function(t){return-1===r.findIndex(function(e){return e.id===t.id})}),l=[],r.map(function(t){var e=n.find(function(e){return e.id===t.id});e&&t.title!==e.title&&l.push(t)}),f=[],h=[],r.map(function(t){var e=n.find(function(e){return e.id===t.id});e&&t.tasks.map(function(t){var n=e.tasks.find(function(e){return e.id===t.id});n?n&&n.title!==t.title&&h.push(t):f.push(t)}),e||0===t.tasks.length||t.tasks.map(function(t){return f.push(t)})}),g=[],n.map(function(t){var e=r.find(function(e){return e.id===t.id});e&&t.tasks.map(function(t){e.tasks.find(function(e){return e.id===t.id})||g.push(t)})}),w=0,0!==d.length&&(w+=d.length),0!==g.length&&(w+=g.length),0!==s.length&&(w+=s.length),0!==f.length&&(w+=f.length),0!==l.length&&(w+=l.length),0!==h.length&&(w+=h.length),t(ot(w)),t(ct(!0)),0!==d.length&&d.map(function(e){T(e.id).then(function(e){0===e.resultCode&&t(ct(!1))})}),0!==g.length&&g.map(function(e){S(e.todoListId,e.id).then(function(e){0===e.resultCode&&t(ct(!1))})}),0!==l.length&&l.map(function(e){_(e.id,e.title).then(function(e){0===e.resultCode&&t(ct(!1))})}),0!==h.length&&h.map(function(e){E(e.todoListId,e.id,e).then(function(e){0===e.resultCode&&t(ct(!1))})}),m=function(){var e;return b.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(0===f.length){n.next=5;break}return e=f.map(function(e){return b.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(L(e.title,e.todoListId).then(function(n){0===n.resultCode&&c.push({newId:n.data.item.id,oldId:e.id,todoListId:n.data.item.todoListId}),0===n.resultCode&&t(ct(!1))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}})}),n.next=4,b.a.awrap(Promise.all(e));case 4:0!==i.length&&(i=i.map(function(t){var e=o.find(function(e){return e.oldId===t.todoListId}),n=t.newTasksOrder.map(function(t){var e=c.find(function(e){return e.oldId===t});return e?e.newId:t});return{todoListId:e?e.newId:t.todoListId,newTasksOrder:n}}));case 5:case"end":return n.stop()}})},0===s.length){P.next=42;break}return v=s.map(function(e){return b.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(I(e.title).then(function(n){0===n.resultCode&&(o.push({newId:n.data.item.id,oldId:e.id}),t(ct(!1)))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}})}),P.next=36,b.a.awrap(Promise.all(v));case 36:return 0!==f.length&&(f=f.map(function(t){var e=o.find(function(e){return e.oldId===t.todoListId});return e?Object(p.a)({},t,{todoListId:e.newId}):t})),0!==a.length&&(a=a.map(function(t){var e=o.find(function(e){return e.oldId===t});return e?e.newId:t})),P.next=40,b.a.awrap(m());case 40:P.next=44;break;case 42:return P.next=44,b.a.awrap(m());case 44:if(t(at(!1)),t(ut(!0)),u=0!==o.length?r.map(function(t){var e=o.find(function(e){return e.oldId===t.id});return e?Object(p.a)({},t,{id:e.newId}):t}):r,0!==c.length&&(u=u.map(function(t){var e=t.tasks.map(function(t){var e=c.find(function(e){return e.oldId===t.id});return e?Object(p.a)({},t,{id:e.newId}):t});return Object(p.a)({},t,{tasks:e})})),!(0!==a.length||s.length>1)){P.next=62;break}if(0!==d.length&&0!==a.length&&(a=a.filter(function(t){return-1!==u.findIndex(function(e){return e.id===t})})),!(s.length>1)){P.next=56;break}return P.next=53,b.a.awrap(y().then(function(t){return t.map(function(t){return t.id})}));case 53:P.t0=P.sent,P.next=57;break;case 56:P.t0=u.map(function(t){return t.id});case 57:k=P.t0,O=[],(0!==a.length?a:u.map(function(t){return t.id})).map(function(t,e){if(t!==k[e]){0===e?O.push({swappedId:t,beforeSwappedId:null}):O.push({swappedId:t,beforeSwappedId:a[e-1]});var n=k.findIndex(function(e){return e===t});k=A(k,n,e)}}),O.map(function(e){$(e.swappedId,e.beforeSwappedId).then(function(e){0!==e.resultCode&&t(U())})});case 62:if(!(0!==i.length||f.length>1)){P.next=83;break}if(0!==g.length&&0!==i.length&&(i=i.map(function(t){var e=u.find(function(e){return e.id===t.todoListId});if(e){var n=t.newTasksOrder.filter(function(t){return-1!==e.tasks.findIndex(function(e){return e.id===t})});return Object(p.a)({},t,{newTasksOrder:n})}return t})),R=[],!(c.length>1)){P.next=71;break}return P.next=68,b.a.awrap(function(){var t,e,n;return b.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(c.map(function(t){var e=0!==R.length?R.find(function(e){return e.todoListId===t.todoListId}):void 0;if(e){var n=R.findIndex(function(e){return e.todoListId===t.todoListId});R[n]=Object(p.a)({},e,{tasks:[].concat(Object(x.a)(e.tasks),[t.newId])})}else R.push({todoListId:t.todoListId,tasks:[t.newId]})}),t=[],R.map(function(e){e.tasks.length>1&&t.push(e.todoListId)}),0===t.length){r.next=11;break}return e=[],n=t.map(function(t){return b.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(j(t).then(function(n){var r=n.items.map(function(t){return t.id});e.push({todoListId:t,tasks:r})}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}})}),r.next=8,b.a.awrap(Promise.all(n));case 8:return r.abrupt("return",e);case 11:return r.abrupt("return",void 0);case 12:case"end":return r.stop()}})}());case 68:P.t1=P.sent,P.next=72;break;case 71:P.t1=void 0;case 72:return z=P.t1,N=[],z&&0!==i.length?(z.map(function(t){if(!i.find(function(e){return e.todoListId===t.todoListId})){var e=u.find(function(e){return t.todoListId===e.id});N.push({todoListId:e.id,tasks:e.tasks.map(function(t){return t.id})})}}),i.map(function(t){return N.push({todoListId:t.todoListId,tasks:t.newTasksOrder})})):z||0===i.length?z&&0===i.length&&z.map(function(t){var e=u.find(function(e){return t.todoListId===e.id});N.push({todoListId:e.id,tasks:e.tasks.map(function(t){return t.id})})}):N=i.map(function(t){return{todoListId:t.todoListId,tasks:t.newTasksOrder}}),B=N.map(function(t){var e=z?z.find(function(e){return e.todoListId===t.todoListId}):void 0,n=u.find(function(e){return e.id===t.todoListId});return e||{todoListId:n.id,tasks:n.tasks.map(function(t){return t.id})}}),D=[],N.forEach(function(t){var e=B.find(function(e){return e.todoListId===t.todoListId}).tasks;t.tasks.forEach(function(n,r){if(n!==e[r]){0===r?D.push({todoListId:t.todoListId,swappedId:n,beforeSwappedId:null}):D.push({todoListId:t.todoListId,swappedId:n,beforeSwappedId:e[r-1]});var a=e.findIndex(function(t){return t===n});e=A(e,a,r)}})}),H=[],D.forEach(function(t){var e=H.find(function(e){return e.todoListId===t.todoListId});e&&H.map(function(n){return n.todoListId===e.todoListId?n.swapOrder.push({swappedId:t.swappedId,beforeSwappedId:t.todoListId}):n}),H.push({todoListId:t.todoListId,swapOrder:[{swappedId:t.swappedId,beforeSwappedId:t.beforeSwappedId}]})}),M=H.map(function(e){var n,r,a,i,o,c,u;return b.a.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=e.swapOrder,r=!0,a=!1,i=void 0,s.prev=4,o=n[Symbol.iterator]();case 6:if(r=(c=o.next()).done){s.next=13;break}return u=c.value,s.next=10,b.a.awrap(C(e.todoListId,u.swappedId,u.beforeSwappedId).then(function(e){0!==e.resultCode&&t(U())}));case 10:r=!0,s.next=6;break;case 13:s.next=19;break;case 15:s.prev=15,s.t0=s.catch(4),a=!0,i=s.t0;case 19:s.prev=19,s.prev=20,r||null==o.return||o.return();case 22:if(s.prev=22,!a){s.next=25;break}throw i;case 25:return s.finish(22);case 26:return s.finish(19);case 27:case"end":return s.stop()}},null,null,[[4,15,19,27],[20,,22,26]])}),P.next=83,b.a.awrap(Promise.all(M));case 83:t(ut(!1)),0===s.length&&0===f.length||t(lt(!1));case 85:case"end":return P.stop()}})})},$palette:n},a.a.createElement(ae,{style:{opacity:N.opacity}},a.a.createElement(ie,{style:{clipPath:N.clipPath1}}),a.a.createElement(ie,{style:{clipPath:N.clipPath2}})),a.a.createElement(oe,{$palette:n,$altBackground:i||o||c||d},H(function(t){return a.a.createElement(ce,{style:Object(p.a)({},t,{translateY:"-50%"})},D)}))),a.a.createElement(ue,{onClick:function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t,e){return("x"==t?e=16*Math.random()|0:3&e|8).toString(16)});t(W({id:e,title:"",tasks:[]}))},$palette:n,$editable:e},a.a.createElement(de,null,"Add list")),a.a.createElement(se,{onClick:function(){t(nt())},$palette:n,$editable:e},a.a.createElement(de,null,"remove changes")))))};function pe(){var t=Object(c.a)(["\n  * {\n      box-sizing: border-box;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      touch-action: none;\n    };\n  body {\n    background-color: white;\n    margin: 0;\n    padding: 0;\n    user-select: none;\n    outline: none;\n    &::-webkit-scrollbar { \n      display: none;\n    };\n  };\n  html {\n    -ms-overflow-style: none; \n  }\n"]);return pe=function(){return t},t}s.b.add(d.a,l.a);var fe=Object(u.a)(pe()),be=u.b.div.withConfig({displayName:"App__Wrapper",componentId:"nrrwe-0"})(["position:fixed;height:100vh;width:100vw;overflow:hidden;"]),he=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(fe,null),a.a.createElement(Vt,null),a.a.createElement(be,null,a.a.createElement(le,null),a.a.createElement(Jt,null)))},xe=n(32),ge=n(74),we=n(75),me=Object(xe.combineReducers)({todoList:pt}),ve=Object(xe.createStore)(me,Object(we.composeWithDevTools)(Object(xe.applyMiddleware)(ge.a))),ke=document.getElementById("root");o.a.unstable_createRoot(ke).render(a.a.createElement(ft.a,{store:ve},a.a.createElement(he,null)))},48:function(t,e,n){},80:function(t,e,n){t.exports=n(111)}},[[80,1,2]]]);
//# sourceMappingURL=main.6d1ae8f4.chunk.js.map