(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),a=n(35),o=n.n(a),c=n(66),u=n(5),s=n(31),d=n(42),l=n(43),f=n(6),p=n(2),b=n(9);s.b.add(d.a,l.a);var h=Object(u.b)(b.animated.div).withConfig({displayName:"AnimatedBackground__Background",componentId:"y5k5nl-0"})(["  position:fixed;width:100vw;height:100vh;"]),g=function(){var t=Object(p.d)(function(t){return t.interface.currentPaletteIndex},p.b),e=Object(b.useSpring)(function(){return{background:t.background}}),n=Object(f.a)(e,2),a=n[0],o=n[1];return Object(r.useEffect)(function(){o({background:t.background})},[t,o]),i.a.createElement(h,{style:a})},x=n(3),w=n.n(x),m=[{background:"#F9DCC4",concaveBackground:"linear-gradient(145deg, #e0c6b0, #ffebd2)",shadows:"14px 14px 35px #c2ac99, -14px -14px 35px #ffffef",innerShadows:"inset 14px 14px 35px #c2ac99, inset -14px -14px 35px #ffffef",littleShadows:"5px 5px 10px #c2ac99, -5px -5px 10px #ffffef",innerLittleShadows:"inset 5px 5px 10px #c2ac99, inset -5px -5px 10px #ffffef",progressBarColor:"#ffffef",progressBarHoverColor:"#c2ac99",color:"#141718"},{background:"#F8EDEB",concaveBackground:"linear-gradient(145deg, #dfd5d4, #fffefb)",shadows:"14px 14px 35px #c1b9b7, -14px -14px 35px #ffffff",innerShadows:"inset 14px 14px 35px #c1b9b7, inset -14px -14px 35px #ffffff",littleShadows:"5px 5px 10px #c1b9b7, -5px -5px 10px #ffffff",innerLittleShadows:"inset 5px 5px 10px #c1b9b7, inset -5px -5px 10px #ffffff",progressBarColor:"#ffffff",progressBarHoverColor:"#c1b9b7",color:"#141718"},{background:"#FCD5CE",concaveBackground:"linear-gradient(145deg, #e3c0b9, #ffe4dc)",shadows:"14px 14px 35px #c5a6a1, -14px -14px 35px #fffffb",innerShadows:"inset 14px 14px 35px #c5a6a1, inset -14px -14px 35px #fffffb",littleShadows:"5px 5px 10px #c5a6a1, -5px -5px 10px #fffffb",innerLittleShadows:"inset 5px 5px 10px #c5a6a1, inset -5px -5px 10px #fffffb",progressBarColor:"#fffffb",progressBarHoverColor:"#c5a6a1",color:"#141718"},{background:"#FFB5A7",concaveBackground:"linear-gradient(145deg, #e6a396, #ffc2b3)",shadows:"14px 14px 35px #c78d82, -14px -14px 35px #ffddcc",innerShadows:"inset 14px 14px 35px #c78d82, inset -14px -14px 35px #ffddcc",littleShadows:"5px 5px 10px #c78d82, -5px -5px 10px #ffddcc",innerLittleShadows:"inset 5px 5px 10px #c78d82, inset -5px -5px 10px #ffddcc",progressBarColor:"#ffddcc",progressBarHoverColor:"#c78d82",color:"#141718"}],v={background:"#EAE8DE",concaveBackground:" linear-gradient(145deg, #d3d1c8, #faf8ee)",shadows:"14px 14px 35px #b9b7af, -14px -14px 35px #ffffff",innerShadows:"inset 14px 14px 35px #b9b7af, inset -14px -14px 35px #ffffff",littleShadows:"5px 5px 10px #b9b7af, -5px -5px 10px #ffffff",color:"#141718",innerLittleShadows:"inset 5px 5px 10px #b9b7af, inset -5px -5px 10px #ffffff",progressBarColor:"#ffffff",progressBarHoverColor:"#b9b7af",default:!0},O=n(16),k=n.n(O),j=Object(u.b)(b.animated.div).withConfig({displayName:"RotatedBackground__Background",componentId:"jqze2d-0"})(["position:absolute;z-index:998;background-color:",";width:300%;transform-origin:50% 0;left:-150%;transition:background-color 0.3s cubic-bezier(0.25,0,0,1);box-shadow:",";"],function(t){return t.$palette.default?v.background:t.$palette.background},function(t){return t.$palette.default?v.shadows:t.$palette.shadows}),y=u.b.div.withConfig({displayName:"RotatedBackground__InnerShadow",componentId:"jqze2d-1"})(["position:absolute;bottom:10px;width:100%;height:calc(100% - 10px);box-shadow:",";"],function(t){return t.$palette.default?v.innerShadows:t.$palette.innerShadows}),E=i.a.memo(function(t){var e=t.palette,n=t.height,r=t.rotateZ,a=t.x;return i.a.createElement(j,{$palette:e,style:{height:n,rotateZ:r,x:a}},i.a.createElement(y,{$palette:e}))},k.a),L=Object(u.b)(b.animated.div).withConfig({displayName:"InterfaceWrapper__WholeWrapper",componentId:"uxxb0m-0"})(["position:absolute;font-family:NunitoSans-ExtraLight,sans-serif;box-sizing:border-box;display:grid;place-items:center;z-index:999;"]),I=u.b.div.withConfig({displayName:"InterfaceWrapper__ButtonsWrapper",componentId:"uxxb0m-1"})(["position:absolute;width:","px;height:","px;border-radius:30px;display:grid;place-items:center;"],function(t){return.8*t.$height},function(t){return.8*t.$height}),S=function(t){var e=t.width,n=t.height,r=t.children,a=t.interfaceHeight,o=t.x;return i.a.createElement(L,{style:{width:e,height:n,x:o}},i.a.createElement(I,{$height:a},r))},T=n(4),C=u.b.div.withConfig({displayName:"EditButton__EditButtonWrapper",componentId:"sc-9lzj78-0"})(["position:relative;z-index:3;width:","px;height:","px;border-radius:30px;box-shadow:",";background:",";"],function(t){return.8*t.$height},function(t){return.8*t.$height},function(t){return t.$palette.default?v.shadows:t.$palette.shadows},function(t){return t.$palette.default?v.background:t.$palette.background}),_=Object(u.b)(b.animated.div).withConfig({displayName:"EditButton__ProgressBackground",componentId:"sc-9lzj78-1"})(["position:absolute;width:100%;border-radius:30px;top:0;background-color:red;"]),$=u.b.div.withConfig({displayName:"EditButton__InnerBackground",componentId:"sc-9lzj78-2"})(["cursor:",";width:90%;height:90%;top:5%;left:5%;position:absolute;background-color:",";color:",';display:grid;place-items:center;border-radius:30px;&:before{border-radius:25px;content:"";position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);z-index:1;width:calc(100% - 6px);height:calc(100% - 6px);box-shadow:',";opacity:0;transition:opacity .3s linear;}",""],function(t){return t.$cantBeHovered?"inherit":"pointer"},function(t){return t.$palette.default?v.background:t.$palette.background},function(t){return t.$palette.default?v.color:t.$palette.color},function(t){return t.$palette.innerShadows},function(t){return!t.$cantBeHovered&&"&:hover:before {opacity: 1}"}),H=Object(u.b)(b.animated.div).withConfig({displayName:"EditButton__InnerEditButtonText",componentId:"sc-9lzj78-3"})(["z-index:12;text-align:center;position:absolute;overflow:hidden;top:50%;font-size:calc(20px + (35 - 20) * ((100vw - 300px) / (2000 - 300)));"]),B=Object(u.b)(b.animated.div).withConfig({displayName:"EditButton__ProgressCounter",componentId:"sc-9lzj78-4"})(["font-size:calc(12px + (25 - 12) * ((100vw - 300px) / (2000 - 300)));text-align:center;position:absolute;bottom:10%;border-radius:30px;"]),R=i.a.memo(function(t){var e=t.switchEditMode,n=t.palette,r=t.cantBeHovered,a=t.actionMessage,o=t.progressBarAnimation,c=t.interfaceHeight,u=Object(b.useTransition)(a,{from:{opacity:1,y:"-100%"},enter:{opacity:1,y:"0%"},leave:{opacity:0,y:"100%"}});return i.a.createElement(C,{onClick:e,$palette:n,$height:c},i.a.createElement($,{$palette:n,$cantBeHovered:r},i.a.createElement(_,{style:{height:o.height,opacity:o.opacity}}),i.a.createElement(B,{style:{opacity:o.opacity}},o.value.to(function(t){return t.toFixed(0)+" %"})),u(function(t){return i.a.createElement(H,{style:Object(T.a)({},t,{translateY:"-50%"})},a)})))},k.a),A=n(18),z=u.b.div.withConfig({displayName:"OtherButtons__RightButton",componentId:"sc-1hays78-0"})(["cursor:pointer;position:absolute;z-index:1;width:","px;height:","px;border-radius:30px;display:grid;place-items:center;box-shadow:",";background:",";color:",";transform:translate(-50%,-50%);top:50%;left:",";transition:left 0.4s cubic-bezier(0.25,0,0,1) 0.3s,background,color 0.4s cubic-bezier(0.25,0,0,1);&:hover{background:",";color:",';};&:before{border-radius:25px;content:"";position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);z-index:1;width:calc(100% - 6px);height:calc(100% - 6px);box-shadow:',";opacity:0;transition:opacity .3s linear;}&:hover:before{opacity:1}"],function(t){return.5*t.$height},function(t){return.5*t.$height},function(t){return t.$palette.default?v.littleShadows:t.$palette.littleShadows},function(t){return t.$palette.default?v.background:t.$palette.background},function(t){return t.$palette.color},function(t){return t.$editable?"150%":"50%"},function(t){return t.$palette.default?v.background:t.$palette.background},function(t){return t.$palette.default?v.color:t.$palette.color},function(t){return t.$palette.innerLittleShadows}),N=Object(u.b)(z).withConfig({displayName:"OtherButtons__LeftButton",componentId:"sc-1hays78-1"})(["left:",";"],function(t){return t.$editable?"-50%":"50%"}),D=Object(u.b)(z).withConfig({displayName:"OtherButtons__AdditionalButton",componentId:"sc-1hays78-2"})(["left:",";"],function(t){return t.$editable?"-150%":"50%"}),M=u.b.div.withConfig({displayName:"OtherButtons__InnerSmallerButtonText",componentId:"sc-1hays78-3"})(["text-align:center;font-size:calc(15px + (25 - 15) * ((100vw - 300px) / (2000 - 300)));"]),W=i.a.memo(function(t){var e=t.palette,n=t.editable,r=t.switchScrollableState,a=t.interfaceHeight,o=t.addTodoList,c=t.rejectAllChanges;return i.a.createElement(i.a.Fragment,null,i.a.createElement(N,{onClick:o,$palette:e,$editable:n,$height:a},i.a.createElement(M,null,"Add list")),i.a.createElement(z,{onClick:c,$palette:e,$editable:n,$height:a},i.a.createElement(M,null,"remove changes")),A.isMobile&&i.a.createElement(D,{onClick:r,$palette:e,$editable:n,$height:a}))},k.a),P=n(12),X=n(53),F=n.n(X),K=n(54),Y=n.n(K),G=F.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"b4801660-f864-43f9-8acc-579713cc64df"}});Y()(G,{retries:4});var Z=F.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/auth",withCredentials:!0,headers:{"API-KEY":"b4801660-f864-43f9-8acc-579713cc64df"}});Y()(Z,{retries:4});var U=function(){return Z.get("/me").then(function(t){return t.data})},q=function(){return Z.post("/login",{email:"npikolist@gmail.com",password:"512347",rememberMe:!1}).then(function(t){return t.data})},J=function(){return G.get("").then(function(t){return t.data})},Q=function(t){return G.post("",{title:t}).then(function(t){return t.data})},V=function(t){return G.get("/".concat(t,"/tasks")).then(function(t){return t.data})},tt=function(t,e){return G.post("/".concat(e,"/tasks"),{title:t}).then(function(t){return t.data})},et=function(t,e,n){return G.put("/".concat(t,"/tasks/").concat(e),n).then(function(t){return t.data})},nt=function(t){return G.delete("/".concat(t)).then(function(t){return t.data})},rt=function(t,e){return G.delete("/".concat(t,"/tasks/").concat(e)).then(function(t){return t.data})},it=function(t,e){return G.put("/".concat(t),{title:e}).then(function(t){return t.data})},at=function(t,e,n){return G.put("/".concat(t,"/tasks/").concat(e,"/reorder"),{putAfterItemId:n}).then(function(t){return t.data})},ot=function(t,e){return G.put("/".concat(t,"/reorder"),{putAfterItemId:e}).then(function(t){return t.data})},ct=n(77),ut=function(t,e,n){var r=t[e],i=t.length,a=e-n;return a>0?[].concat(Object(P.a)(t.slice(0,n)),[r],Object(P.a)(t.slice(n,e)),Object(P.a)(t.slice(e+1,i))):a<0?[].concat(Object(P.a)(t.slice(0,e)),Object(P.a)(t.slice(e+1,n+1)),[r],Object(P.a)(t.slice(n+1,i))):t},st={focusedStatus:!1,currentPaletteIndex:v,initialLoadingState:!0,pendingState:!1,swapState:!1,fetchingState:!1,height:0,width:0,interfaceHeight:0,allTasks:0,completedTasks:0,closeLookState:!1,scrollableState:!0},dt=function(t){return{type:"interfaceReducer/SET_FOCUSED_STATUS",status:t}},lt=function(t){return{type:"interfaceReducer/SET_CURRENT_PALETTE_INDEX",palette:t}},ft=function(){return{type:"interfaceReducer/COMPLETE_INITIAL_LOADING_STATE"}},pt=function(t){return{type:"interfaceReducer/SET_PENDING_STATE",pendingState:t}},bt=function(t){return{type:"interfaceReducer/SET_HEIGHT",height:t}},ht=function(t){return{type:"interfaceReducer/SET_WIDTH",width:t}},gt=function(t){return{type:"interfaceReducer/SET_INTERFACE_HEIGHT",height:t}},xt=function(t){return{type:"interfaceReducer/SET_ALL_TASKS",tasks:t}},wt=function(t){return{type:"interfaceReducer/SET_COMPLETED_TASK",restore:t}},mt=function(t){return{type:"interfaceReducer/SET_SWAP_STATE",state:t}},vt=function(t){return{type:"interfaceReducer/SET_FETCHING_STATE",state:t}},Ot=function(t){return{type:"interfaceReducer/SET_CLOSE_LOOK_STATE",state:t}},kt=function(t){return{type:"interfaceReducer/SET_SCROLLABLE_STATE",state:t}},jt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"interfaceReducer/SET_FOCUSED_STATUS":return Object(T.a)({},t,{focusedStatus:e.status});case"interfaceReducer/SET_CURRENT_PALETTE_INDEX":return Object(T.a)({},t,{currentPaletteIndex:e.palette});case"interfaceReducer/COMPLETE_INITIAL_LOADING_STATE":return Object(T.a)({},t,{initialLoadingState:!1});case"interfaceReducer/SET_PENDING_STATE":return Object(T.a)({},t,{pendingState:e.pendingState});case"interfaceReducer/SET_HEIGHT":return Object(T.a)({},t,{height:e.height});case"interfaceReducer/SET_WIDTH":return Object(T.a)({},t,{width:e.width});case"interfaceReducer/SET_INTERFACE_HEIGHT":return Object(T.a)({},t,{interfaceHeight:e.height});case"interfaceReducer/SET_ALL_TASKS":return Object(T.a)({},t,{allTasks:e.tasks});case"interfaceReducer/SET_COMPLETED_TASK":return Object(T.a)({},t,{completedTasks:e.restore?0:t.completedTasks+1});case"interfaceReducer/SET_SWAP_STATE":return Object(T.a)({},t,{swapState:e.state});case"interfaceReducer/SET_CLOSE_LOOK_STATE":return Object(T.a)({},t,{closeLookState:e.state});case"interfaceReducer/SET_SCROLLABLE_STATE":return Object(T.a)({},t,{scrollableState:e.state});default:return t}},yt={todoLists:[],deepCopy:[],editable:!1,listsOrder:[],tasksOrder:[],newListsId:[],newTasksId:[]},Et=function(t){return{type:"stateReducer/ADD_TODO_LIST",newTodoList:t}},Lt=function(t,e){return{type:"stateReducer/ADD_TASK",newTask:t,todoListId:e}},It=function(t){return{type:"stateReducer/CHANGE_TASK",task:t}},St=function(t){return{type:"stateReducer/DELETE_TODO_LIST",todoListId:t}},Tt=function(t,e){return{type:"stateReducer/DELETE_TASK",taskId:e,todoListId:t}},Ct=function(t,e){return{type:"stateReducer/CHANGE_TODO_LIST_TITLE",todoListId:t,todoListTitle:e}},_t=function(){return{type:"stateReducer/ENABLE_EDIT_MODE"}},$t=function(){return{type:"stateReducer/DISABLE_EDIT_MODE"}},Ht=function(t,e){return{type:"stateReducer/SWAP_TASKS",todoListId:t,newTasksOrder:e}},Bt=function(t){return{type:"stateReducer/SWAP_TODO_LISTS",newListsOrder:t}},Rt=function(t){return{type:"stateReducer/SET_NEW_ID",newTodoLists:t}},At=function(){return{type:"stateReducer/REJECT_ALL_CHANGES"}},zt=function(t){return function(e){var n,r,i;return w.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return t||e(vt(!0)),a.next=3,w.a.awrap(J());case 3:if(n=a.sent,r=n,0===n.length){a.next=11;break}return e(xt(n.length)),e(wt(!0)),i=n.map(function(t){return w.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.awrap(V(t.id).then(function(n){var i=r.findIndex(function(e){return t.id===e.id});r[i]=Object(T.a)({},t,{tasks:n.items}),e(wt(!1))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}})}),a.next=11,w.a.awrap(Promise.all(i));case 11:e(Rt(r)),t&&setTimeout(function(){return e(ft())},600);case 13:case"end":return a.stop()}})}},Nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"stateReducer/SET_TODO_LISTS":return Object(T.a)({},t,{todoLists:e.todoLists});case"stateReducer/SET_TASKS":return Object(T.a)({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?Object(T.a)({},t,{tasks:e.tasks}):t})});case"stateReducer/ADD_TODO_LIST":return Object(T.a)({},t,{todoLists:[e.newTodoList].concat(Object(P.a)(t.todoLists))});case"stateReducer/ADD_TASK":return Object(T.a)({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?Object(T.a)({},t,{tasks:[e.newTask].concat(Object(P.a)(t.tasks))}):t})});case"stateReducer/CHANGE_TASK":return Object(T.a)({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.task.todoListId?Object(T.a)({},t,{tasks:t.tasks.map(function(t){return t.id===e.task.id?Object(T.a)({},e.task):t})}):t})});case"stateReducer/DELETE_TODO_LIST":return Object(T.a)({},t,{todoLists:t.todoLists.filter(function(t){return t.id!==e.todoListId})});case"stateReducer/DELETE_TASK":return Object(T.a)({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?Object(T.a)({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})}):t})});case"stateReducer/CHANGE_TODO_LIST_TITLE":return Object(T.a)({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?Object(T.a)({},t,{title:e.todoListTitle}):t})});case"stateReducer/SWAP_TODO_LISTS":return Object(T.a)({},t,{listsOrder:e.newListsOrder});case"stateReducer/SWAP_TASKS":var n=t.tasksOrder.findIndex(function(t){return t.todoListId===e.todoListId}),r=-1!==n?t.tasksOrder.map(function(t,r){return r===n?{todoListId:e.todoListId,newTasksOrder:e.newTasksOrder}:t}):[].concat(Object(P.a)(t.tasksOrder),[{todoListId:e.todoListId,newTasksOrder:e.newTasksOrder}]);return Object(T.a)({},t,{tasksOrder:r});case"stateReducer/ENABLE_EDIT_MODE":return Object(T.a)({},t,{editable:!0,listsOrder:[],tasksOrder:[],deepCopy:Object(ct.a)(t.todoLists)});case"stateReducer/DISABLE_EDIT_MODE":return Object(T.a)({},t,{editable:!1});case"stateReducer/SET_NEW_ID":return Object(T.a)({},t,{todoLists:e.newTodoLists});case"stateReducer/REJECT_ALL_CHANGES":return Object(T.a)({},t,{todoLists:t.deepCopy,editable:!1,listsOrder:[],tasksOrder:[]});default:return t}},Dt=function(){var t=Object(p.c)(),e=Object(p.d)(function(t){return t.todoList.editable},p.b),n=Object(p.d)(function(t){return t.interface.currentPaletteIndex},p.b),a=Object(p.d)(function(t){return t.interface.pendingState},p.b),o=Object(p.d)(function(t){return t.interface.initialLoadingState},p.b),c=Object(p.d)(function(t){return t.interface.swapState},p.b),u=Object(p.d)(function(t){return t.interface.allTasks},p.b),s=Object(p.d)(function(t){return t.interface.completedTasks},p.b),d=Object(p.d)(function(t){return t.interface.fetchingState},p.b),l=Object(p.d)(function(t){return t.interface.closeLookState},p.b),h=Object(p.d)(function(t){return t.interface.interfaceHeight},p.b),g=Object(p.d)(function(t){return t.interface.width},p.b),x=Object(p.d)(function(t){return t.interface.scrollableState},p.b),m=Object(r.useState)(0),v=Object(f.a)(m,2),O=v[0],k=v[1];Object(r.useEffect)(function(){var n=!0,r=void 0,i=function(t){return t?.17*window.innerHeight>230?230:.17*window.innerHeight<150?150:.17*window.innerHeight:e?.17*window.innerHeight>230?230:.17*window.innerHeight<150?150:.17*window.innerHeight:Math.sqrt(Math.pow(.23*window.innerHeight,2)+Math.pow(.23*window.innerWidth,2))>300?300:Math.sqrt(Math.pow(.23*window.innerHeight,2)+Math.pow(.23*window.innerWidth,2))};if(n){var a=i(!1);t(gt(a));var o=i(!0);k(o)}var c=function(){n&&(clearTimeout(r),r=window.setTimeout(function(){var e=i(!1);t(gt(e));var n=i(!0);k(n)},150))};return window.addEventListener("resize",c),function(){n=!1,window.removeEventListener("resize",c)}},[e,t]);var j=Object(r.useCallback)(function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)});t(Et({id:e,title:"",tasks:[]}))},[t]),y=Object(r.useCallback)(function(){t(At())},[t]),L=Object(r.useCallback)(function(){t(kt(!x))},[x,t]),I=Object(r.useCallback)(function(){e||t(_t()),e&&t(function(t,e){var n,r,i,a,o,c,u,s,d,l,f,p,b,h,g,x,m,v,O,k,j,y,E,L,I;return w.a.async(function(S){for(;;)switch(S.prev=S.next){case 0:if(t($t()),t(pt(!0)),n=e().todoList.deepCopy,r=e().todoList.todoLists,i=e().todoList.listsOrder,a=e().todoList.tasksOrder,o=[],c=[],u=[],s=r.filter(function(t){return-1===n.findIndex(function(e){return e.id===t.id})}),d=n.filter(function(t){return-1===r.findIndex(function(e){return e.id===t.id})}),l=[],r.forEach(function(t){var e=n.find(function(e){return e.id===t.id});e&&t.title!==e.title&&l.push(t)}),f=[],p=[],r.forEach(function(t){var e=n.find(function(e){return e.id===t.id});e&&t.tasks.forEach(function(t){var n=e.tasks.find(function(e){return e.id===t.id});n?n&&n.title!==t.title&&p.push(t):f.push(t)}),e||0===t.tasks.length||t.tasks.forEach(function(t){return f.push(t)})}),b=[],n.forEach(function(t){var e=r.find(function(e){return e.id===t.id});e&&t.tasks.forEach(function(t){e.tasks.find(function(e){return e.id===t.id})||b.push(t)})}),h=0,0!==d.length&&(h+=d.length),0!==b.length&&(h+=b.length),0!==s.length&&(h+=s.length),0!==f.length&&(h+=f.length),0!==l.length&&(h+=l.length),0!==p.length&&(h+=p.length),t(xt(h)),t(wt(!0)),0!==d.length&&d.forEach(function(e){nt(e.id).then(function(e){0===e.resultCode&&t(wt(!1))})}),0!==b.length&&b.forEach(function(e){rt(e.todoListId,e.id).then(function(e){0===e.resultCode&&t(wt(!1))})}),0!==l.length&&l.forEach(function(e){it(e.id,e.title).then(function(e){0===e.resultCode&&t(wt(!1))})}),0!==p.length&&p.forEach(function(e){et(e.todoListId,e.id,e).then(function(e){0===e.resultCode&&t(wt(!1))})}),g=function(){var e;return w.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(0===f.length){n.next=5;break}return e=f.map(function(e){return w.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.awrap(tt(e.title,e.todoListId).then(function(n){0===n.resultCode&&c.push({newId:n.data.item.id,oldId:e.id,todoListId:n.data.item.todoListId}),0===n.resultCode&&t(wt(!1))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}})}),n.next=4,w.a.awrap(Promise.all(e));case 4:0!==a.length&&(a=a.map(function(t){var e=o.find(function(e){return e.oldId===t.todoListId}),n=t.newTasksOrder.map(function(t){var e=c.find(function(e){return e.oldId===t});return e?e.newId:t});return{todoListId:e?e.newId:t.todoListId,newTasksOrder:n}}));case 5:case"end":return n.stop()}})},0===s.length){S.next=42;break}return x=s.map(function(e){return w.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.awrap(Q(e.title).then(function(n){0===n.resultCode&&(o.push({newId:n.data.item.id,oldId:e.id}),t(wt(!1)))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}})}),S.next=36,w.a.awrap(Promise.all(x));case 36:return 0!==f.length&&(f=f.map(function(t){var e=o.find(function(e){return e.oldId===t.todoListId});return e?Object(T.a)({},t,{todoListId:e.newId}):t})),0!==i.length&&(i=i.map(function(t){var e=o.find(function(e){return e.oldId===t});return e?e.newId:t})),S.next=40,w.a.awrap(g());case 40:S.next=44;break;case 42:return S.next=44,w.a.awrap(g());case 44:if(t(pt(!1)),t(mt(!0)),u=0!==o.length?r.map(function(t){var e=o.find(function(e){return e.oldId===t.id});return e?Object(T.a)({},t,{id:e.newId}):t}):r,0!==c.length&&(u=u.map(function(t){var e=t.tasks.map(function(t){var e=c.find(function(e){return e.oldId===t.id});return e?Object(T.a)({},t,{id:e.newId}):t});return Object(T.a)({},t,{tasks:e})})),!(0!==i.length||s.length>1)){S.next=62;break}if(0!==d.length&&0!==i.length&&(i=i.filter(function(t){return-1!==u.findIndex(function(e){return e.id===t})})),!(s.length>1)){S.next=56;break}return S.next=53,w.a.awrap(J().then(function(t){return t.map(function(t){return t.id})}));case 53:S.t0=S.sent,S.next=57;break;case 56:S.t0=u.map(function(t){return t.id});case 57:m=S.t0,v=[],(0!==i.length?i:u.map(function(t){return t.id})).forEach(function(t,e){if(t!==m[e]){0===e?v.push({swappedId:t,beforeSwappedId:null}):v.push({swappedId:t,beforeSwappedId:i[e-1]});var n=m.findIndex(function(e){return e===t});m=ut(m,n,e)}}),v.forEach(function(t){ot(t.swappedId,t.beforeSwappedId)});case 62:if(!(0!==a.length||f.length>1)){S.next=83;break}if(0!==b.length&&0!==a.length&&(a=a.map(function(t){var e=u.find(function(e){return e.id===t.todoListId});if(e){var n=t.newTasksOrder.filter(function(t){return-1!==e.tasks.findIndex(function(e){return e.id===t})});return Object(T.a)({},t,{newTasksOrder:n})}return t})),O=[],!(c.length>1)){S.next=71;break}return S.next=68,w.a.awrap(function(){var t,e,n;return w.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(c.forEach(function(t){var e=0!==O.length?O.find(function(e){return e.todoListId===t.todoListId}):void 0;if(e){var n=O.findIndex(function(e){return e.todoListId===t.todoListId});O[n]=Object(T.a)({},e,{tasks:[].concat(Object(P.a)(e.tasks),[t.newId])})}else O.push({todoListId:t.todoListId,tasks:[t.newId]})}),t=[],O.forEach(function(e){e.tasks.length>1&&t.push(e.todoListId)}),0===t.length){r.next=11;break}return e=[],n=t.map(function(t){return w.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.awrap(V(t).then(function(n){var r=n.items.map(function(t){return t.id});e.push({todoListId:t,tasks:r})}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}})}),r.next=8,w.a.awrap(Promise.all(n));case 8:return r.abrupt("return",e);case 11:return r.abrupt("return",void 0);case 12:case"end":return r.stop()}})}());case 68:S.t1=S.sent,S.next=72;break;case 71:S.t1=void 0;case 72:return k=S.t1,j=[],k&&0!==a.length?(k.forEach(function(t){if(!a.find(function(e){return e.todoListId===t.todoListId})){var e=u.find(function(e){return t.todoListId===e.id});j.push({todoListId:e.id,tasks:e.tasks.map(function(t){return t.id})})}}),a.forEach(function(t){return j.push({todoListId:t.todoListId,tasks:t.newTasksOrder})})):k||0===a.length?k&&0===a.length&&k.forEach(function(t){var e=u.find(function(e){return t.todoListId===e.id});j.push({todoListId:e.id,tasks:e.tasks.map(function(t){return t.id})})}):j=a.map(function(t){return{todoListId:t.todoListId,tasks:t.newTasksOrder}}),y=j.map(function(t){var e=k?k.find(function(e){return e.todoListId===t.todoListId}):void 0,n=u.find(function(e){return e.id===t.todoListId});return e||{todoListId:n.id,tasks:n.tasks.map(function(t){return t.id})}}),E=[],j.forEach(function(t){var e=y.find(function(e){return e.todoListId===t.todoListId}).tasks;t.tasks.forEach(function(n,r){if(n!==e[r]){0===r?E.push({todoListId:t.todoListId,swappedId:n,beforeSwappedId:null}):E.push({todoListId:t.todoListId,swappedId:n,beforeSwappedId:e[r-1]});var i=e.findIndex(function(t){return t===n});e=ut(e,i,r)}})}),L=[],E.forEach(function(t){var e=L.find(function(e){return e.todoListId===t.todoListId});e&&L.map(function(n){return n.todoListId===e.todoListId?n.swapOrder.push({swappedId:t.swappedId,beforeSwappedId:t.todoListId}):n}),L.push({todoListId:t.todoListId,swapOrder:[{swappedId:t.swappedId,beforeSwappedId:t.beforeSwappedId}]})}),I=L.map(function(t){var e,n,r,i,a,o,c;return w.a.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=t.swapOrder,n=!0,r=!1,i=void 0,u.prev=4,a=e[Symbol.iterator]();case 6:if(n=(o=a.next()).done){u.next=13;break}return c=o.value,u.next=10,w.a.awrap(at(t.todoListId,c.swappedId,c.beforeSwappedId));case 10:n=!0,u.next=6;break;case 13:u.next=19;break;case 15:u.prev=15,u.t0=u.catch(4),r=!0,i=u.t0;case 19:u.prev=19,u.prev=20,n||null==a.return||a.return();case 22:if(u.prev=22,!r){u.next=25;break}throw i;case 25:return u.finish(22);case 26:return u.finish(19);case 27:case"end":return u.stop()}},null,null,[[4,15,19,27],[20,,22,26]])}),S.next=83,w.a.awrap(Promise.all(I));case 83:t(mt(!1)),0===s.length&&0===f.length||t(zt(!1));case 85:case"end":return S.stop()}})})},[e,t]),C=Object(b.useSpring)(function(){return{height:window.innerHeight,width:window.innerWidth,backgroundHeight:Math.sqrt(Math.pow(window.innerHeight,2)+Math.pow(window.innerWidth,2)),rotateZ:-35,x:"0vw"}}),_=Object(f.a)(C,2),$=_[0],H=_[1],B=Object(b.useSpring)(function(){return{value:0,height:"0%",opacity:1}}),A=Object(f.a)(B,2),z=A[0],N=A[1];Object(r.useEffect)(function(){e&&H({width:window.innerWidth})},[g,H,e]),Object(r.useEffect)(function(){N(function(){return s/u!==1?{value:isNaN(s/u*100)?0:s/u*100,height:"".concat(s/u*100,"%")}:{to:function(t){return w.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(t({value:isNaN(s/u*100)?0:s/u*100,height:"".concat(s/u*100,"%")}));case 2:return e.next=4,w.a.awrap(t({opacity:0}));case 4:case"end":return e.stop()}})}}})},[u,s,N]),Object(r.useEffect)(function(){o||e||l?e?H({backgroundHeight:h,height:h,width:window.innerWidth,rotateZ:0,delay:function(t){return"width"===t?300:0}}):l&&H({x:"-100vw"}):H({height:h,width:O,backgroundHeight:h,rotateZ:-35,x:"0vw",delay:function(t){return"rotateZ"===t?300:0},config:{friction:50}})},[e,a,o,c,d,l,h,H,O]);var D=Object(r.useMemo)(function(){return o?"Loading":e?"Submit":a?"Sending data":"Edit"},[e,a,o]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(E,{palette:n,height:$.backgroundHeight,rotateZ:$.rotateZ,x:$.x}),i.a.createElement(S,{height:$.height,width:$.width,interfaceHeight:O,x:$.x},i.a.createElement(R,{actionMessage:D,interfaceHeight:O,cantBeHovered:a||o||c||d,switchEditMode:I,palette:n,progressBarAnimation:z}),i.a.createElement(W,{palette:n,editable:e,addTodoList:j,switchScrollableState:L,rejectAllChanges:y,interfaceHeight:O})))},Mt=n(17),Wt=Object(u.b)(b.animated.div).withConfig({displayName:"ScrollBar__ScrollBarWrapper",componentId:"sc-11w2ia8-0"})(["position:absolute;width:30px;border-radius:10px;height:","px;top:","px;right:0;overflow:hidden;transition:.6s cubic-bezier(0.25,0,0,1);background:",";"],function(t){return t.$editable?window.innerHeight-t.$interfaceHeight:window.innerHeight},function(t){return t.$editable?t.$interfaceHeight:0},function(t){return t.$palette.progressBarColor}),Pt=Object(u.b)(b.animated.div).withConfig({displayName:"ScrollBar__ScrollBarThing",componentId:"sc-11w2ia8-1"})(["position:absolute;width:20px;left:50%;transform:translateX(-50%);height:","%;border-radius:10px;transition:background 0.3s cubic-bezier(0.25,0,0,1);background:",";cursor:grab;&:active{cursor:grabbing;background-color:","}&:hover{background-color:","}"],function(t){return t.$height},function(t){return t.$drugged?v.background:t.$palette.background},function(t){return t.$palette.progressBarHoverColor},function(t){return t.$palette.progressBarHoverColor}),Xt=i.a.memo(function(t){var e=t.palette,n=t.interfaceHeight,r=t.editable,a=t.bindDraggedScrollBar,o=t.scrollBarHeight,c=t.visible,u=t.drugged,s=t.top,d=t.visibilityOfScrollBar;return i.a.createElement(Wt,{$palette:e,$visible:c,style:d,$editable:r,$interfaceHeight:n},i.a.createElement(Pt,Object.assign({$palette:e,$drugged:u,style:{top:s}},!A.isMobile&&Object(T.a)({},a()),{$height:o})))},k.a),Ft=Object(u.b)(b.animated.div).withConfig({displayName:"ScrollableWrapper__AllLists",componentId:"sc-1s03hhf-0"})(["position:relative;transform-style:preserve-3d;width:70vw;top:","px;height:calc(100vh - 280px);transform-origin:50% 100%;@media screen and (max-width:1210px){transition:top 0.5s cubic-bezier(0.25,0,0,1);top:",";width:90vw}"],function(t){return t.$editable&&!t.$closeLook?t.$interfaceHeight:0},function(t){return t.$editable?"".concat(t.$interfaceHeight,"px"):t.$closeLook?"0px":"-38vh"}),Kt=Object(u.b)(b.animated.div).withConfig({displayName:"ScrollableWrapper__ScrollWrapper",componentId:"sc-1s03hhf-1"})(["position:absolute;transform-style:preserve-3d;width:100%;z-index:1;left:50%;top:","px;transition:top 0.5s cubic-bezier(0.25,0,0,1);max-width:2000px;"],function(t){return t.$top}),Yt=function(t){var e=t.children,n=t.wrapperAnimation,r=t.editable,a=t.closeLook,o=t.height,c=t.interfaceHeight,u=t.y,s=t.visible,d=t.measuredRef;return i.a.createElement(Ft,{style:n,$editable:r,$closeLook:a,$interfaceHeight:c},i.a.createElement(Kt,{style:{y:u,height:o,translateX:"-50%"},ref:d,$top:a&&s&&A.isMobile?50:a&&s&&!A.isMobile?125:25},e))},Gt=n(27),Zt=u.b.div.withConfig({displayName:"TaskButtons__TaskButtonWrapper",componentId:"zkwnii-0"})(["z-index:0;position:absolute;width:0;height:0;transform:translateX(-70%);transition:.25s cubic-bezier(0.25,0,0,1);overflow:hidden;"]),Ut=u.b.div.withConfig({displayName:"TaskButtons__Button",componentId:"zkwnii-1"})(["display:grid;place-items:center;position:absolute;width:2rem;height:2rem;cursor:pointer;left:10px;font-size:15px;border-radius:100%;background-color:",";box-shadow:",";color:",";transition:.25s cubic-bezier(0.25,0,0,1);&:hover{background-color:",";color:",";}&:first-child:nth-last-child(2),&:first-child:nth-last-child(2) ~ *{&:nth-child(1){top:5px;}&:nth-child(2){bottom:5px;}}"],function(t){return t.$palette.background},function(t){return t.$palette.littleShadows},function(t){return t.$palette.color},function(t){return t.$palette.color},function(t){return t.$palette.background}),qt=i.a.memo(function(t){var e=t.deleteTask,n=t.editTask,r=t.palette,a=Object(Mt.a)(function(t){var e=t.tap,r=t.event;null===r||void 0===r||r.stopPropagation(),e&&n()}),o=Object(Mt.a)(function(t){var n=t.tap,r=t.event;null===r||void 0===r||r.stopPropagation(),n&&e()});return i.a.createElement(Zt,null,i.a.createElement(Ut,Object.assign({},a(),{$palette:r}),i.a.createElement(Gt.a,{icon:"edit"})),i.a.createElement(Ut,Object.assign({},o(),{$palette:r}),i.a.createElement(Gt.a,{icon:"trash"})))}),Jt=function(t){return null!==t&&!/^\s*$/.test(t)&&t.length<100},Qt=u.b.div.withConfig({displayName:"TaskCheckbox__CheckboxWrapper",componentId:"sc-6vx2gg-0"})(["width:31px;height:31px;position:relative;padding-top:10px;padding-left:10px;opacity:",";--background:#fff;--border:#D1D6EE;--border-hover:#BBC1E1;--border-active:#1E2235;--tick:#fff;"],function(t){return t.$editable?0:1}),Vt=u.b.input.withConfig({displayName:"TaskCheckbox__Checkbox",componentId:"sc-6vx2gg-1"})(["z-index:9;width:21px;height:21px;display:block;-webkit-appearance:none;-moz-appearance:none;position:relative;outline:none;background:rgba(255,255,255,0.8);border:none;margin:0;padding:0;cursor:pointer;border-radius:4px;transition:box-shadow .3s;box-shadow:inset 0 0 0 var(--s,1px) var(--b,var(--border));&:hover{--s:2px;--b:var(--border-hover);}&:checked{--b:var(--border-active);--s:2px;transition-delay:.4s;& + svg{--a:16.1 86.12;--o:102.22;}}"]),te=u.b.svg.withConfig({displayName:"TaskCheckbox__Svg",componentId:"sc-6vx2gg-2"})(["z-index:10;width:21px;height:21px;display:block;pointer-events:none;fill:none;stroke-width:2px;stroke-linecap:round;stroke-linejoin:round;stroke:var(--stroke,var(--border-active));position:absolute;top:10px;left:10px;transform:scale(var(--scale,1)) translateZ(0);stroke-dasharray:var(--a,86.12);stroke-dashoffset:var(--o,86.12);transition:stroke-dasharray .6s,stroke-dashoffset .6s;"]),ee=i.a.memo(function(t){var e=t.task,n=t.changeDoneStatus,r=t.editable;return i.a.createElement(Qt,{$editable:r},i.a.createElement(Vt,{type:"checkbox",checked:2===e.status,disabled:r,onChange:function(t){return n(t)}}),i.a.createElement(te,null,i.a.createElement("path",{d:"M5,10.75 L8.5,14.25 L19.4,2.3 C18.8333333,1.43333333 18.0333333,1 17,1 L4,1 C2.35,1 1,2.35 1,4 L1,17 C1,18.65 2.35,20 4,20 L17,20 C18.65,20 20,18.65 20,17 L20,7.99769186"})))}),ne=u.b.div.withConfig({displayName:"TodoListTask__TaskWrapper",componentId:"sc-83kg0v-0"})(["position:relative;text-align:left;z-index:",";cursor:",";",""],function(t){return t.$editorState?2:1},function(t){return t.$editable?"grab":"inherit"},function(t){return t.$editable&&"&:hover ".concat(Zt,",  ").concat(Zt,":focus-within {\n       width: 4rem;\n       height: calc(100% + 10px);\n       left: -10px;\n       top: -5px\n     }")}),re=u.b.div.withConfig({displayName:"TodoListTask__TaskBackground",componentId:"sc-83kg0v-1"})(["padding:15px 0;background:",";color:",";display:flex;position:relative;border-radius:10px;z-index:2;transform:scale(",');transition:transform .5s cubic-bezier(0.25,0,0,1);&:before{border-radius:10px;content:"";position:absolute;top:0;bottom:0;left:0;right:0;z-index:-1;box-shadow:',';};&:after{border-radius:7px;content:"";position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);z-index:1;width:calc(100% - 10px);height:calc(100% - 10px);box-shadow:',";opacity:0;transition:opacity .3s linear;};"," ",""],function(t){return t.$palette.background},function(t){return t.$palette.color},function(t){return t.$editorState?1.3:1},function(t){return t.$palette.littleShadows},function(t){return t.$palette.innerLittleShadows},function(t){return t.$editable&&"\n        &:hover:after {opacity: 1};\n        &:hover ".concat(Zt,",  ").concat(Zt,":focus-within {\n           width: 4rem;\n           height: 5rem;\n           left: -10px\n        }\n        &:active {\n           cursor: grabbing;\n           &:before {box-shadow: 10px 10px 20px rgba(0, 0, 0, .4)};\n           &:after {opacity: 1}\n        }")},function(t){return t.$editorState&&"\n    &:after {opacity: 1}\n    &:before {box-shadow: 10px 10px 20px rgba(0, 0, 0, .4)}"}),ie=u.b.div.withConfig({displayName:"TodoListTask__TaskText",componentId:"sc-83kg0v-2"})(["position:relative;padding:10px;outline:none;display:inline-block;min-width:100px;overflow-wrap:break-word;-webkit-line-break:after-white-space;width:100%;font-size:16px;z-index:3;cursor:",""],function(t){return t.contentEditable?"text":"inherit"}),ae=i.a.memo(function(t){var e=t.task,n=t.todoListId,a=t.palette,o=Object(p.d)(function(t){return t.todoList.editable},p.b),c=Object(p.d)(function(t){return t.interface.focusedStatus},p.b),u=Object(p.c)(),s=Object(r.useState)(!1),d=Object(f.a)(s,2),l=d[0],b=d[1],h=Object(r.useCallback)(function(){b(!0),u(lt(a)),u(dt(!0))},[a,u]),g=Object(r.useRef)(null);Object(r.useEffect)(function(){l&&g.current.focus()},[l]);var x=Object(r.useCallback)(function(){u(Tt(n,e.id))},[n,e.id,u]);Object(r.useLayoutEffect)(function(){g.current.textContent=e.title,""===e.title&&h()},[e,h]);var w=Object(r.useCallback)(function(t){var n=Object(T.a)({},e,{status:t.currentTarget.checked?2:0});u(It(n))},[e,u]),m=Object(r.useCallback)(function(){var t=g.current.textContent;if(Jt(t)){var n=Object(T.a)({},e,{title:t});u(It(n)),b(!1),u(dt(!1))}else Jt(t)||""===e.title?(u(dt(!1)),x()):(g.current.textContent=e.title,b(!1),u(dt(!1)))},[e,x,u]),v=Object(r.useCallback)(function(t){13!==t.keyCode&&27!==t.keyCode||(t.preventDefault(),g.current.blur())},[]),O=Object(Mt.a)(function(t){var e=t.event;null===e||void 0===e||e.stopPropagation()});return i.a.createElement(ne,{$editable:o&&!c,$editorState:l},i.a.createElement(qt,{editTask:h,deleteTask:x,palette:a}),i.a.createElement(re,{$editable:o,$palette:a,$editorState:l},i.a.createElement(ee,{task:e,changeDoneStatus:w,editable:o}),i.a.createElement(ie,Object.assign({contentEditable:l,onKeyDown:function(t){return v(t)},ref:g,onBlur:m},l&&Object(T.a)({},O())))))},k.a),oe=u.b.div.withConfig({displayName:"TasksContainer__TasksWrapper",componentId:"sc-2fmzkb-0"})(["user-select:none;position:relative;height:","px;transition:height 0.3s cubic-bezier(0.25,0,0,1) 0.2s;"],function(t){return t.$height}),ce=Object(u.b)(b.animated.div).withConfig({displayName:"TasksContainer__TaskWrapper",componentId:"sc-2fmzkb-1"})(["position:absolute;width:100%;overflow:visible;padding:10px 0;pointer-events:auto;text-align:center;font-size:14.5px;"]),ue=i.a.memo(function(t){var e=t.tasks,n=t.todoListId,a=t.setHeight,o=t.palette,c=t.setHoveredStatus,u=Object(p.d)(function(t){return t.todoList.editable},p.b),s=Object(p.d)(function(t){return t.interface.width},p.b),d=Object(p.c)(),l=Object(r.useCallback)(function(t,n,r,i){return function(a){if(n&&a===r&&void 0!==i){var o=i>O.current[1]?O.current[1]+.1*(i-O.current[1]):i<O.current[0]?O.current[0]+.1*(i-O.current[0]):i;return{scale:1.2,zIndex:2,y:g.current+o,opacity:1,immediate:function(t){return"zIndex"===t||"y"===t}}}return{scale:1,y:m.current.length<e.length?m.current[t.indexOf(e.length-a-2)]||0:m.current[t.indexOf(e.length-a-1)]||0,zIndex:"inherit",opacity:1,immediate:!1}}},[e]),h=Object(r.useRef)([]),g=Object(r.useRef)(null),x=Object(r.useRef)([]),w=Object(r.useRef)([]),m=Object(r.useRef)([]),v=Object(r.useRef)([]),O=Object(r.useRef)([]),j=Object(r.useRef)([]),y=Object(r.useRef)([]),E=Object(r.useState)(0),L=Object(f.a)(E,2),I=L[0],S=L[1],C=Object(b.useSprings)(e.length,l(h.current),[e]),_=Object(f.a)(C,2),$=_[0],H=_[1],B=Object(r.useState)(0),R=Object(f.a)(B,2),A=R[0],z=R[1];Object(r.useEffect)(function(){y.current=e.map(function(){return i.a.createRef()});var t=1;z(t),t++},[e]);var N=Object(r.useCallback)(function(t){m.current=t.map(function(e,n){return t.reduce(function(e,r,i){return 0!==i&&i<=n&&(e+=t[i-1]),e},0)}),j.current=m.current.map(function(e,n){return{topBorder:e,center:e+t[n]/2,bottomBorder:e+t[n]}})},[]);Object(r.useLayoutEffect)(function(){if(u||0===e.length||(h.current=e.map(function(t,e){return e}),v.current=y.current.map(function(t){return t.current.offsetHeight})),u&&e.length>w.current.length&&(h.current=[0].concat(Object(P.a)(h.current.map(function(t){return t+1}))),v.current=[y.current[0].current.offsetHeight].concat(Object(P.a)(v.current))),u&&e.length<w.current.length){var t=w.current.findIndex(function(t){return-1===e.findIndex(function(e){return e.id===t})}),n=h.current.indexOf(t);h.current=h.current.filter(function(e){return e!==t}).map(function(e){return e>t?e-1:e}),v.current=v.current.filter(function(t,e){return e!==n})}e.length===w.current.length&&(v.current=y.current.map(function(t){return t.current.offsetHeight})),N(v.current),H(l(h.current));var r=v.current.reduce(function(t,e){return t+e},0);S(r),a(r),w.current=e.map(function(t){return t.id}),console.log("....here....")},[A,s,N,a,H,S,u,e,l]);var D=Object(r.useCallback)(function(t,e){if(e>0){for(var n=t,r=0;e>r+v.current[t+1]/2;)n+=1,r+=v.current[t+1];return n>v.current.length-1?v.current.length-1:n}if(e<0){for(var i=t,a=0;Math.abs(e)>a+v.current[t-1]/2;)i-=1,a+=v.current[t-1];return i<0?0:i}return t},[]),M=Object(Mt.a)(function(t){var r=Object(f.a)(t.args,2),i=r[0],a=r[1],o=t.down,c=Object(f.a)(t.movement,2)[1],u=t.event;null===u||void 0===u||u.stopPropagation();var s=h.current.indexOf(a);null===g.current&&(g.current=m.current[s],O.current=[-g.current,m.current[e.length-1]-g.current],d(dt(!0))),g.current||(g.current=m.current[s]);var p=D(s,c),b=ut(h.current,s,p),w=ut(v.current,s,p);if(N(w),H(l(b,o,i,c)),!o){if(h.current=b,v.current=w,g.current=null,!k()(h.current,x.current)){var j=h.current.map(function(t){return e[t].id});d(Ht(n,j))}d(dt(!1))}},{filterTaps:!0}),W=Object(Mt.b)(function(t){var e=t.hovering;e&&c(!0),e||c(!1)});return i.a.createElement(oe,Object.assign({$height:I},u&&Object(T.a)({},W())),e.map(function(t,r){return i.a.createElement(ce,Object.assign({},u&&Object(T.a)({},M(e.length-r-1,r)),{key:t.id,style:$[e.length-r-1],ref:y.current[r]}),i.a.createElement(ae,{task:t,todoListId:n,palette:o}))}))},k.a),se=(n(48),u.b.div.withConfig({displayName:"TodoListTitle__ListTitle",componentId:"sc-1owtry1-0"})(["background-color:",";color:",";position:relative;font-size:25px;text-align:center;padding:15px 10px;margin:0 auto 10px auto;width:100%;cursor:",";border-radius:10px;outline:none;display:inline-block;overflow-wrap:break-word;-webkit-line-break:after-white-space;transform:scale(",');transition:transform .5s cubic-bezier(0.25,0,0,1);&:before{border-radius:10px;content:"";position:absolute;top:0;bottom:0;left:0;right:0;box-shadow:',";}"],function(t){return t.$palette.background},function(t){return t.$palette.color},function(t){return t.contentEditable?"text":"inherit"},function(t){return t.contentEditable?1.3:1},function(t){return t.$palette.innerShadows})),de=i.a.memo(function(t){var e=t.listTitle,n=t.id,a=t.isTitleEditable,o=t.deleteTodoList,c=t.switchTitleMode,u=t.palette,s=Object(p.c)();Object(r.useEffect)(function(){d.current&&a&&(d.current.focus(),s(dt(!0)))},[a,s]);var d=Object(r.useRef)(null);Object(r.useLayoutEffect)(function(){d.current&&(d.current.textContent=e,""===e&&c(!0))},[e,c]);var l=Object(Mt.a)(function(t){var e=t.event;null===e||void 0===e||e.stopPropagation()});return i.a.createElement(se,Object.assign({contentEditable:a,ref:d,onKeyDown:function(t){return function(t){13!==t.keyCode&&27!==t.keyCode||(t.preventDefault(),d.current.blur())}(t)},onBlur:function(){Jt(d.current.textContent)?(s(Ct(n,d.current.textContent)),c(!1),s(dt(!1))):Jt(d.current.textContent)||""===e?(s(dt(!1)),o()):(d.current.textContent=e,c(!1),s(dt(!1)))},$palette:u},a&&Object(T.a)({},l())))}),le=u.b.div.withConfig({displayName:"ContextButtons__ButtonWrapper",componentId:"dvcjwp-0"})(["z-index:0;position:absolute;top:7px;left:7px;border-radius:100%;width:0;height:0;opacity:0;transform:translate(-50%,-50%);transition:opacity .6s cubic-bezier(0.25,0,0,1),width 0s linear .6s,height 0s linear .6s;"]),fe=u.b.div.withConfig({displayName:"ContextButtons__Button",componentId:"dvcjwp-1"})(["display:grid;place-items:center;position:absolute;width:40px;height:40px;border-radius:100%;cursor:pointer;font-size:20px;background:",";color:",";box-shadow:",";;transition:.25s cubic-bezier(0.25,0,0,1);&:hover{background-color:",";color:",";}&:first-child:nth-last-child(3),&:first-child:nth-last-child(3) ~ *{&:nth-child(1){left:50px;top:0;}&:nth-child(2){left:0;top:0;}&:nth-child(3){left:0;top:50px;}}"],function(t){return t.styles.background},function(t){return t.styles.color},function(t){return t.styles.littleShadows},function(t){return t.styles.color},function(t){return t.styles.background}),pe=i.a.memo(function(t){var e=t.colors,n=t.deleteTodoList,r=t.addTask,a=t.editList;return i.a.createElement(le,null,i.a.createElement(fe,{styles:e,onClick:r},i.a.createElement(Gt.a,{icon:"plus"})),i.a.createElement(fe,{styles:e,onClick:n},i.a.createElement(Gt.a,{icon:"trash"})),i.a.createElement(fe,{styles:e,onClick:function(){return a(!0)}},i.a.createElement(Gt.a,{icon:"edit"})))}),be=u.b.div.withConfig({displayName:"TodoList__SingleListWrapper",componentId:"sc-1c5ch2m-0"})(["position:relative;transform-style:preserve-3d;transform-origin:50% 50%;backface-visibility:hidden;overflow:visible;padding:35px;cursor:",";font-family:NunitoSans-Light;&:hover{z-index:5;}",""],function(t){return t.$editable||t.$closeLookState?"inherit":"pointer"},function(t){return!t.$editable&&!t.$closeLookState&&"&:hover ".concat(he,"{\n        transform: translateZ(100px)\n     }\n     &:hover ").concat(xe,"{\n        box-shadow: 0 0 35px 20px rgba(0, 0, 0, 0.8);\n        opacity: 0.5\n     }")}),he=u.b.div.withConfig({displayName:"TodoList__ListOuterLayer",componentId:"sc-1c5ch2m-1"})(["cursor:",";border-radius:30px;padding:35px;transform-style:preserve-3d;transform-origin:50% 100%;background:",';position:relative;transform:translateZ(0);transition:transform .6s cubic-bezier(0.25,0,0,1);&:before{border-radius:30px;content:"";position:absolute;top:0;z-index:-1;bottom:0;left:0;right:0;transition:opacity .3s linear;box-shadow:',";opacity:",";};",';&:after{border-radius:30px;content:"";position:absolute;top:0;z-index:-1;bottom:0;left:0;right:0;box-shadow:14px 14px 35px rgba(0,0,0,.4);transition:opacity .3s linear;opacity:',";};",""],function(t){return t.$editable?"grab":"inherit"},function(t){return m[t.$palette].concaveBackground},function(t){return m[t.$palette].shadows},function(t){return t.$closeLookState?1:0},function(t){return t.$editable&&!t.$focusedStatus&&!t.$isTasksHovered&&"&:hover ".concat(le,",  ").concat(le,":hover {\n           width: 120px;\n           height: 120px;\n           opacity: 1;\n           transition: opacity .6s cubic-bezier(0.25, 0, 0, 1);\n       }\n       &:hover ").concat(ge," {\n           opacity: 1\n       }")},function(t){return t.$closeLookState?0:1},function(t){return t.$editable&&"\n    &:hover:after {opacity: 0};\n    &:hover:before {opacity: 1};\n    &:active {\n        cursor: grabbing;\n        &:after {opacity: 1};\n        &:before {opacity: 0};\n        ".concat(ge," {opacity: 1}\n    }")}),ge=u.b.div.withConfig({displayName:"TodoList__ListInnerLayer",componentId:"sc-1c5ch2m-2"})(["position:absolute;border-radius:20px;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);height:calc(100% - 20px);width:calc(100% - 20px);padding:25px;box-shadow:",";opacity:0;transition:opacity .3s linear;"],function(t){return m[t.$palette].innerShadows}),xe=u.b.div.withConfig({displayName:"TodoList__ListShadow",componentId:"sc-1c5ch2m-3"})(["display:",";position:absolute;z-index:-2;width:calc(100% - 80px);height:calc(100% - 80px);top:50%;left:50%;transform:translateX(-50%) translateY(-50%);border-radius:30px;background:rgba(0,0,0,0.7);box-shadow:0 0 0 0 rgba(0,0,0,0.8);opacity:0.7;transition-property:box-shadow,opacity;transition-duration:.6s;transition-timing-function:cubic-bezier(0.25,0,0,1);"],function(t){return t.$editable||t.$closeLookState?"none":"block"}),we=i.a.memo(function(t){var e=t.id,n=t.listTitle,a=t.listTasks,o=t.paletteIndex,c=t.setNewHeights,u=t.deleteList,s=t.closeLook,d=Object(p.c)(),l=Object(p.d)(function(t){return t.todoList.editable},p.b),b=Object(p.d)(function(t){return t.interface.focusedStatus},p.b),h=Object(r.useState)(!1),g=Object(f.a)(h,2),x=g[0],w=g[1],O=Object(r.useCallback)(function(t){w(t)},[]),k=Object(r.useRef)(0),j=Object(r.useRef)(null),y=Object(r.useCallback)(function(t){0===k.current&&j.current&&(k.current=j.current.offsetHeight),k.current!==t&&c(t+k.current,e)},[e,c]),E=Object(r.useCallback)(function(){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)});d(Lt({title:"",id:t,todoListId:e},e))},[e,d]),L=Object(r.useCallback)(function(){u(e),d(St(e))},[e,d,u]),I=Object(r.useState)("All"),S=Object(f.a)(I,1)[0],C=a?a.filter(function(t){return"Active"===S?0===t.status:"Completed"!==S||2===t.status}):[],_=Object(Mt.b)(function(t){var e=t.hovering;b||s||(e&&d(lt(m[o])),e||d(lt(v)))}),$=Object(r.useState)(!1),H=Object(f.a)($,2),B=H[0],R=H[1],A=Object(r.useCallback)(function(t){R(t)},[]);return i.a.createElement(be,Object.assign({},!s&&Object(T.a)({},_()),{ref:j,$editable:l,$closeLookState:s}),i.a.createElement(xe,{$editable:l,$closeLookState:s}),i.a.createElement(he,{$palette:o,$editable:l,$isTasksHovered:x,$closeLookState:s,$focusedStatus:b},i.a.createElement(ge,{$palette:o}),i.a.createElement(pe,{colors:m[o],deleteTodoList:L,addTask:E,editList:A}),i.a.createElement(de,{listTitle:n,id:e,isTitleEditable:B,deleteTodoList:L,switchTitleMode:A,palette:m[o]}),i.a.createElement(ue,{todoListId:e,tasks:C,setHeight:y,palette:m[o],setHoveredStatus:O})))},k.a),me=Object(u.b)(b.animated.div).withConfig({displayName:"CloseButton__CloseButtonAnimatedWrapper",componentId:"tilrvq-0"})(["position:absolute;border-radius:100%;"]),ve=Object(u.b)(b.animated.div).withConfig({displayName:"CloseButton",componentId:"tilrvq-1"})(["display:grid;place-items:center;width:","px;height:","px;border-radius:100%;cursor:pointer;font-size:20px;background:",";color:",";box-shadow:",";;transition:.25s cubic-bezier(0.25,0,0,1);&:hover{background:",";color:",";}"],A.isMobile?60:40,A.isMobile?60:40,function(t){return t.$palette.background},function(t){return t.$palette.color},function(t){return t.$palette.littleShadows},function(t){return t.$palette.color},function(t){return t.$palette.background}),Oe=i.a.memo(function(t){var e=t.closeButtonAnimation,n=t.returnFromCloseLook,r=Object(p.d)(function(t){return t.interface.currentPaletteIndex},p.b);return i.a.createElement(me,{onClick:n,style:e},i.a.createElement(ve,{$palette:r},i.a.createElement(Gt.a,{icon:"times"})))},k.a),ke=Object(u.b)(b.animated.div).withConfig({displayName:"AllListsContainer__TodoListContainer",componentId:"sc-1j24ac5-0"})(["  transform-style:preserve-3d;position:absolute;width:","px;"],function(t){return t.$width}),je=i.a.memo(function(t){var e=t.setWrapperAnimation,n=t.scrollByListDrugging,a=t.setCloseLookState,o=t.returnFromCloseLookState,c=t.switchScrollBar,u=Object(p.d)(function(t){return t.todoList.editable},p.b),s=Object(p.d)(function(t){return t.todoList.todoLists},k.a),d=Object(p.d)(function(t){return t.interface.width},p.b),l=Object(p.d)(function(t){return t.interface.interfaceHeight},p.b),h=Object(p.d)(function(t){return t.interface.scrollableState},p.b),g=Object(p.d)(function(t){return t.interface.focusedStatus},p.b),x=Object(p.c)(),O=Object(r.useRef)([]),j=Object(b.useSprings)(s.length,function(t){if(0===O.current.length)return{x:0,y:0,zIndex:3,opacity:1,display:"block"};var e=O.current.find(function(e){return e.index===s.length-1-t});return{x:e?e.x:0,y:e?e.y:0,opacity:1,zIndex:3,display:"block"}},[s]),y=Object(f.a)(j,2),E=y[0],L=y[1],I=Object(r.useMemo)(function(){return d>=1700?4:d>=1100?3:d>=700?2:1},[d]),S=Object(r.useMemo)(function(){return d/I},[d,I]),C=Object(r.useCallback)(function(){var t=new Array(I).fill(0);O.current=O.current.map(function(e,n){var r=_.current.find(function(t){return e.id===t.id}),i=r?r.height:0,a=n%I,o=S*a,c=(t[a]+=i)-i,u=o+S,s=c+i,d=o+S/2,l=c+i/2;return Object(T.a)({},e,{x:o,y:c,rightX:u,botY:s,horizontalCenter:d,verticalCenter:l,height:i})}),Math.max.apply(Math,Object(P.a)(t))!==B.current&&(B.current=Math.max.apply(Math,Object(P.a)(t)),x(bt(B.current)))},[S,I,x]),_=Object(r.useRef)([]),$=Object(r.useCallback)(function(t,e){var n=_.current.findIndex(function(t){return t.id===e}),r=-1===n?[].concat(Object(P.a)(_.current),[{height:t,id:e}]):_.current.map(function(r,i){return i===n?{height:t,id:e}:r});_.current=r,r.length===s.length&&(C(),L(function(t){var e=O.current.find(function(e){return e.index===s.length-1-t});return{x:e.x,y:e.y}}))},[s,L,C]),H=Object(r.useCallback)(function(t){_.current=_.current.filter(function(e){return e.id!==t})},[]),B=Object(r.useRef)(0);Object(r.useEffect)(function(){if(!u&&0===O.current.length){var t=new Array(I).fill(0);O.current=s.map(function(e,n){var r=_.current.find(function(t){return e.id===t.id}),i=r?r.height:0,a=n%I,o=S*a,c=(t[a]+=i)-i,u=o+S,s=c+i,d=o+S/2,l=c+i/2,f=n;return{x:o,y:c,height:i,id:e.id,botY:s,rightX:u,horizontalCenter:d,verticalCenter:l,index:f}}),B.current=Math.max.apply(Math,Object(P.a)(t)),x(bt(B.current))}if(u&&O.current.length<s.length&&(O.current=[{x:0,y:0,height:0,id:s[0].id,botY:0,rightX:0,horizontalCenter:0,verticalCenter:0,index:0}].concat(Object(P.a)(O.current)).map(function(t,e){return 0===e?t:Object(T.a)({},t,{index:t.index+1})}),C()),u&&O.current.length>s.length){var e=O.current.findIndex(function(t){return-1===s.findIndex(function(e){return e.id===t.id})}),n=O.current[e];O.current=O.current.map(function(t){var e=t.index>n.index?t.index-1:t.index;return Object(T.a)({},t,{index:e})}).filter(function(t,n){return n!==e}),C()}O.current.length===s.length&&C(),L(function(t){var e=O.current.find(function(e){return e.index===s.length-1-t});return{x:e.x,y:e.y}}),console.log("big effect")},[s,I,S,x,u,C,L]),Object(r.useEffect)(function(){C(),L(function(t){var e=O.current.find(function(e){return e.index===s.length-1-t});return{x:e.x,y:e.y}})},[d,I,S,C,s.length,L]);var R=Object(r.useCallback)(function(t,e){var n,r,i,a=new Array(I).fill(0);O.current=(n=O.current,r=t,i=e,n.map(function(t,e){return e===r?n[i]:e===i?n[r]:t})).map(function(t,e){var n=e%I,r=S*n,i=(a[n]+=t.height)-t.height,o=r+S,c=i+t.height,u=r+S/2,s=i+t.height/2;return Object(T.a)({},t,{x:r,y:i,rightX:o,botY:c,horizontalCenter:u,verticalCenter:s})}),Math.max.apply(Math,Object(P.a)(a))!==B.current&&(B.current=Math.max.apply(Math,Object(P.a)(a)),x(bt(B.current)))},[S,I,x]),z=Object(r.useCallback)(function(t,e){var n=D.current.horizontalCenter+t,r=D.current.verticalCenter+e,i=D.current.height/2,a=O.current.findIndex(function(t){return t.x<n&&t.rightX>n&&t.verticalCenter+i>r&&t.verticalCenter-i<r});return a<s.length&&a>=0?a:null},[s]),N=Object(r.useCallback)(function(t,e,n){L(function(r){if(r===n)return{x:D.current.x+t,y:D.current.y+e,zIndex:4,config:{tension:200,clamp:!0},immediate:function(t){return"zIndex"===t}};var i=O.current.find(function(t){return t.index===s.length-1-r});return{x:i.x,y:i.y}})},[s,L]),D=Object(r.useRef)(null),M=Object(r.useRef)({left:0,right:0,top:0,bottom:0,pageTop:0,pageBottom:0}),W=Object(r.useRef)(null),X=Object(r.useRef)(0),F=Object(r.useRef)(0),K=Object(r.useRef)(null),Y=Object(r.useCallback)(function(){var t=-D.current.x-35+W.current.offsetX,e=d-D.current.rightX+35+(d/I-W.current.offsetX),n=35-D.current.y-W.current.offsetY+35+25,r=B.current-D.current.y-35-(W.current.offsetY+35),i=-W.current.clientY+l+35+25,a=window.innerHeight-.1*window.innerHeight+i-l-25;M.current={left:t,right:e,top:n,bottom:r,pageTop:i,pageBottom:a}},[d,I,l]),G=Object(Mt.a)(function(t){var e=Object(f.a)(t.args,2),r=e[0],i=e[1],a=t.down,o=Object(f.a)(t.movement,2),c=o[0],u=o[1],d=t.active,l=t.first,p=t.event;if(!h||!A.isMobile){null===p||void 0===p||p.stopPropagation();var b=O.current.findIndex(function(t){return t.index===r});if(g||x(dt(!0)),l&&(D.current=O.current[b],W.current={offsetX:p.offsetX,offsetY:p.offsetY,clientX:p.clientX,clientY:p.clientY},Y(),X.current=u,F.current=0),null!==K.current&&(clearTimeout(K.current),K.current=null),d)if(u>M.current.pageBottom&&X.current<M.current.bottom){var m=function t(){var e;return w.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=new Promise(function(t){K.current=window.setTimeout(function(){n("bottom"),X.current=X.current+5,F.current=F.current+5;var e=z(c,X.current);null!==e&&e!==b&&R(b,e),N(c,X.current,i),t()},10)}),r.next=3,w.a.awrap(e.then(function(){X.current<M.current.bottom&&t()}));case 3:case"end":return r.stop()}})};w.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.awrap(m());case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}})}else if(u<M.current.pageTop&&X.current>M.current.top){var v=function t(){var e;return w.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=new Promise(function(t){K.current=window.setTimeout(function(){n("top"),X.current=X.current-5,F.current=F.current-5;var e=z(c,X.current);null!==e&&e!==b&&R(b,e),N(c,X.current,i),t()},10)}),r.next=3,w.a.awrap(e.then(function(){X.current>M.current.top&&t()}));case 3:case"end":return r.stop()}})};w.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.awrap(v());case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}})}else{X.current=u+F.current;var k=z(c,X.current);null!==k&&k!==b&&R(b,k),N(c,X.current,i)}if(!a){W.current=null,L(function(t){var e=O.current.find(function(e){return e.index===s.length-1-t});return{x:e.x,y:e.y,zIndex:3}});var j=O.current.map(function(t){return t.id});x(Bt(j)),x(dt(!1))}}},{filterTaps:!0}),Z=Object(b.useSpring)(function(){return{x:0,y:0,opacity:0,display:"none"}}),U=Object(f.a)(Z,2),q=U[0],J=U[1],Q=Object(r.useState)(null),V=Object(f.a)(Q,2),tt=V[0],et=V[1],nt=Object(r.useCallback)(function(t){var e;return w.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!u&&null===tt){n.next=2;break}return n.abrupt("return");case 2:return e=O.current.find(function(e){return e.index===t}),c(!1),x(Ot(!0)),n.next=7,w.a.awrap(L(function(e){return e!==s.length-1-t?{to:function(t){return w.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(t({opacity:0}));case 2:return e.next=4,w.a.awrap(t({display:"none"}));case 4:case"end":return e.stop()}})}}:{to:!1}}));case 7:return x(bt(e.height)),a(e.height),x(lt(m[(s.length-1-t)%m.length])),et(t),n.next=13,w.a.awrap(L(function(n){return n!==s.length-1-t?{to:!1}:{y:window.innerHeight/2-e.height/2,x:d/2-d/I/2}}));case 13:J({to:function(t){return w.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.awrap(t({y:window.innerHeight/2-e.height/2-25,x:d/2+d/I/2-(A.isMobile?30:10),display:"block",immediate:!0}));case 2:return n.next=4,w.a.awrap(t({opacity:1,immediate:!1}));case 4:case"end":return n.stop()}})}});case 14:case"end":return n.stop()}})},[s,a,tt,J,x,I,u,L,d,c]),rt=Object(r.useCallback)(function(){return w.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return c(!1),J({to:function(t){return w.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(t({opacity:0}));case 2:return e.next=4,w.a.awrap(t({display:"none"}));case 4:case"end":return e.stop()}})}}),t.next=4,w.a.awrap(L(function(t){if(t!==s.length-1-tt)return{to:!1};var e=O.current.find(function(t){return t.index===tt});return{x:e.x,y:e.y}}));case 4:return x(Ot(!1)),o(),x(bt(B.current)),t.next=9,w.a.awrap(e({rotateX:45,rotateZ:45,y:275}));case 9:x(lt(v)),et(null),L(function(t){return t!==s.length-1-tt?{opacity:1,display:"block"}:{to:!1}});case 12:case"end":return t.stop()}})},[s,o,tt,x,L,c,J,e]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Oe,{returnFromCloseLook:rt,closeButtonAnimation:q}),0!==s.length&&s.map(function(t,e){return i.a.createElement(ke,Object.assign({style:E[s.length-e-1]},u&&Object(T.a)({},G(e,s.length-e-1)),{onClick:function(){return nt(e)},$width:S,key:t.id}),i.a.createElement(we,{id:t.id,paletteIndex:(s.length-1-e)%m.length,deleteList:H,setNewHeights:$,closeLook:e===tt,listTitle:t.title,listTasks:t.tasks}))}))},k.a),ye=function(){var t=Object(p.d)(function(t){return t.interface.currentPaletteIndex},p.b),e=Object(p.d)(function(t){return t.todoList.editable},p.b),n=Object(p.d)(function(t){return t.interface.height},p.b),a=Object(p.d)(function(t){return t.interface.width},p.b),o=Object(p.d)(function(t){return t.interface.initialLoadingState},p.b),c=Object(p.d)(function(t){return t.interface.closeLookState},p.b),u=Object(p.d)(function(t){return t.interface.interfaceHeight},p.b),s=Object(p.d)(function(t){return t.interface.scrollableState},p.b),d=Object(p.c)();Object(r.useEffect)(function(){d(function(t){return w.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(U());case 2:if(e.sent.data.id){e.next=6;break}return e.next=6,w.a.awrap(q());case 6:t(zt(!0));case 7:case"end":return e.stop()}})});var t=!0,e=void 0,n=function(){t&&(clearTimeout(e),e=window.setTimeout(function(){return d(ht(T.current.offsetWidth))},150))};return window.addEventListener("resize",n),function(){t=!1,window.removeEventListener("resize",n)}},[d]);var l=Object(r.useState)({border:0,scrollBarHeight:0}),h=Object(f.a)(l,2),g=h[0],x=g.border,m=g.scrollBarHeight,v=h[1],O=Object(r.useState)(!1),k=Object(f.a)(O,2),j=k[0],y=k[1],E=Object(r.useState)(!1),L=Object(f.a)(E,2),I=L[0],S=L[1],T=Object(r.useRef)(null);Object(r.useLayoutEffect)(function(){d(ht(T.current.offsetWidth))},[d]);var C=Object(b.useSpring)(function(){return{x:"-100vw",rotateX:45,rotateZ:45,y:275,config:{tension:90,clamp:!0}}}),_=Object(f.a)(C,2),$=_[0],H=_[1];Object(r.useEffect)(function(){o||H({x:window.innerWidth<=1210?"-5vw":"-15vw"})},[o,H]);var B=Object(r.useRef)(0),R=Object(r.useRef)(0),z=Object(r.useRef)(window.innerWidth<=1210?-window.innerHeight/2:0),N=Object(r.useRef)([]),D=Object(b.useSpring)(function(){return{y:z.current,top:"0%",height:0,immediate:!1}}),M=Object(f.a)(D,2),W=M[0],P=M[1];Object(r.useEffect)(function(){var t=n?(window.innerHeight-(e?u:0))/n*100:0;if(window.innerWidth<=1210&&!c){var r=e?n-window.innerHeight<0?0:n-window.innerHeight+u:n;v({border:r,scrollBarHeight:t})}else if(window.innerWidth>1210&&!c){var i=e?n-window.innerHeight<0?0:n-window.innerHeight+u:n-window.innerHeight<0?.5*n:n-window.innerHeight/2;v({border:i,scrollBarHeight:t})}z.current=e||c?0:window.innerWidth<=1210?-window.innerHeight/2:0,P({height:n,y:-B.current-z.current}),o||H({x:e||c?window.innerWidth<=1210?"5vw":"15vw":window.innerWidth<=1210?"-5vw":"-15vw",rotateX:e||c?0:45,rotateZ:e||c?0:45,y:e||c?0:275}),n<window.innerHeight?S(!1):S(!0),console.log("debuggg")},[n,a,e,P,H,c,u,o]);var X=Object(b.useSpring)({from:{opacity:0,right:-50,display:"none"},to:function(t){return w.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(t(I?{display:"block"}:{opacity:0,right:-50}));case 2:return e.next=4,w.a.awrap(t(I?{opacity:1,right:0}:{display:"none"}));case 4:case"end":return e.stop()}})}});Object(Mt.c)(function(t){var e=Object(f.a)(t.delta,2)[1];I&&(B.current=B.current+e<x&&B.current+e>0?B.current+e:B.current+e<=0?0:x,R.current=B.current/x*(100-m),P({y:-B.current-z.current,top:"".concat(R.current,"%")}))},{domTarget:window}),Object(Mt.a)(function(t){var e=Object(f.a)(t.delta,2)[1],n=t.active,r=Object(f.a)(t.swipe,2)[1];if(I&&(A.isMobile||s)){if(0!==r){var i=(window.innerHeight-u)*r;B.current=B.current-i<x&&B.current-i>0?B.current-i:B.current-i<=0?0:x}if(n){var a=-e;B.current=B.current+a<x&&B.current+a>0?B.current+a:B.current+a<=0?0:x}R.current=B.current/x*(100-m),P({y:-B.current-z.current,top:"".concat(R.current,"%")})}},{domTarget:window,filterTaps:!0,eventOptions:{passive:!1}});var F=Object(Mt.a)(function(t){var n=Object(f.a)(t.delta,2)[1],r=t.event,i=t.first,a=t.down;null===r||void 0===r||r.stopPropagation(),i&&y(!0);var o=n/(e?window.innerHeight-u:window.innerHeight)*100;R.current=R.current+o>0&&R.current+o<100-m?R.current+o:R.current+o<=0?0:100-m,B.current=x*R.current/(100-m),P({y:-B.current-z.current,top:"".concat(R.current,"%"),immediate:function(t){return"top"===t}}),a||y(!1)}),K=Object(r.useCallback)(function(t){"bottom"===t&&B.current<x&&(B.current=B.current+5<x?B.current+5:x,R.current=B.current/x*(100-m),P({y:-B.current,top:"".concat(R.current,"%")})),"top"===t&&B.current>0&&(B.current=B.current-5>0?B.current-5:0,R.current=B.current/x*(100-m),P({y:-B.current,top:"".concat(R.current,"%")}))},[x,m,P]),Y=Object(r.useCallback)(function(t){var e=t>window.innerHeight-(A.isMobile?100:250)?t-(window.innerHeight-(A.isMobile?100:250)):0;if(e>0){N.current=[B.current,R.current,x,m];var n=(window.innerHeight-(A.isMobile?100:250))/t*100;v({border:e,scrollBarHeight:n}),B.current=0,R.current=0,P({y:0,top:"".concat(0,"%")}),S(!0)}0===e&&(N.current=[B.current,R.current,x,m],v({border:0,scrollBarHeight:0}),B.current=0,R.current=0,P({y:0,top:"".concat(0,"%")}))},[x,m,P]),G=Object(r.useCallback)(function(){0!==N.current.length&&(B.current=N.current[0],R.current=N.current[1],v({border:N.current[2],scrollBarHeight:N.current[3]}),P({y:-N.current[0],top:"".concat(N.current[1],"%")})),S(!0)},[P]),Z=Object(r.useCallback)(function(t){return S(t)},[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Yt,{height:W.height,visible:I,closeLook:c,editable:e,y:W.y,interfaceHeight:u,measuredRef:T,wrapperAnimation:$},i.a.createElement(je,{setWrapperAnimation:H,scrollByListDrugging:K,setCloseLookState:Y,returnFromCloseLookState:G,switchScrollBar:Z})),i.a.createElement(Xt,{palette:t,visible:I,visibilityOfScrollBar:X,editable:e,interfaceHeight:u,drugged:j,top:W.top,bindDraggedScrollBar:F,scrollBarHeight:m}))};function Ee(){var t=Object(c.a)(["\n  * {\n      box-sizing: border-box;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      touch-action: none;\n    };\n  body {\n    background-color: white;\n    margin: 0;\n    padding: 0;\n    user-select: none;\n    outline: none;\n    &::-webkit-scrollbar { \n      display: none;\n    };\n  };\n  html {\n    -ms-overflow-style: none; \n  }\n"]);return Ee=function(){return t},t}s.b.add(d.a,l.a);var Le=Object(u.a)(Ee()),Ie=u.b.div.withConfig({displayName:"App__Wrapper",componentId:"nrrwe-0"})(["position:fixed;height:100vh;width:100vw;overflow:hidden;"]),Se=function(){return Object(r.useEffect)(function(){var t=function(){return document.location.reload()};return window.addEventListener("orientationchange",t),function(){return window.removeEventListener("orientationchange",t)}},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(Le,null),i.a.createElement(g,null),i.a.createElement(Ie,null,i.a.createElement(Dt,null),i.a.createElement(ye,null)))},Te=n(32),Ce=n(75),_e=n(76),$e=Object(Te.combineReducers)({todoList:Nt,interface:jt}),He=Object(Te.createStore)($e,Object(_e.composeWithDevTools)(Object(Te.applyMiddleware)(Ce.a))),Be=document.getElementById("root");o.a.unstable_createRoot(Be).render(i.a.createElement(p.a,{store:He},i.a.createElement(Se,null)))},48:function(t,e,n){},81:function(t,e,n){t.exports=n(114)}},[[81,1,2]]]);
//# sourceMappingURL=main.de62dafe.chunk.js.map